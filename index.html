<!DOCTYPE html>
<html>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="utf-8">
  

  
  <title>曹福清</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="曹福清的博客网站">
<meta name="keywords" content="曹福清 博客">
<meta property="og:type" content="website">
<meta property="og:title" content="曹福清">
<meta property="og:url" content="http://caofuqing.com/index.html">
<meta property="og:site_name" content="曹福清">
<meta property="og:description" content="曹福清的博客网站">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="曹福清">
<meta name="twitter:description" content="曹福清的博客网站">
  
    <link rel="alternate" href="/atom.xml" title="曹福清" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>
</html>
<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">曹福清</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">个人博客</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Search"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://caofuqing.com"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-iOS-源代码分析-Masonry" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/05/28/iOS-源代码分析-Masonry/" class="article-date">
  <time datetime="2019-05-28T09:11:28.000Z" itemprop="datePublished">2019-05-28</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/iOS/">iOS</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/05/28/iOS-源代码分析-Masonry/">iOS 源代码分析 --- Masonry</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="https://github.com/SnapKit/Masonry" target="_blank" rel="noopener">Masonry</a> 是 Objective-C 中用于自动布局的第三方框架, 我们一般使用它来代替冗长, 繁琐的 AutoLayout 代码. </p>
<p>Masonry 的使用还是很简洁的:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[button mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">make.centerX.equalTo(<span class="keyword">self</span>.view);</span><br><span class="line">make.top.equalTo(<span class="keyword">self</span>.view).with.offset(<span class="number">40</span>);</span><br><span class="line">make.width.equalTo(@<span class="number">185</span>);</span><br><span class="line">make.height.equalTo(@<span class="number">38</span>);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure>
<h2 id="从-mas-makeConstraints-开始"><a href="#从-mas-makeConstraints-开始" class="headerlink" title="从 mas_makeConstraints: 开始"></a>从 mas_makeConstraints: 开始</h2><p>其中最常用的方法就是 </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// View+MASAdditions.h</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSArray</span> *)mas_makeConstraints:(<span class="keyword">void</span>(^)(MASConstraintMaker *make))block;</span><br></pre></td></tr></table></figure>
<p>同样, 也有用于<strong>更新和重新构建</strong>约束的分类方法:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// View+MASAdditions.h</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSArray</span> *)mas_updateConstraints:(<span class="keyword">void</span>(^)(MASConstraintMaker *make))block;</span><br><span class="line">- (<span class="built_in">NSArray</span> *)mas_remakeConstraints:(<span class="keyword">void</span>(^)(MASConstraintMaker *make))block;</span><br></pre></td></tr></table></figure>
<h2 id="Constraint-Maker-Block"><a href="#Constraint-Maker-Block" class="headerlink" title="Constraint Maker Block"></a>Constraint Maker Block</h2><p>我们以 <code>mas_makeConstraints:</code> 方法为入口来分析一下 Masonry 以及类似的框架(SnapKit)是如何工作的. <code>mas_makeConstraints:</code> 方法位于 <code>UIView</code> 的分类 <code>MASAdditions</code> 中.</p>
<blockquote>
<pre><code>Provides constraint maker block and convience methods for creating MASViewAttribute which are view + NSLayoutAttribute pairs.
</code></pre></blockquote>
<p>这个分类为我们提供一种非常便捷的方法来配置 <code>MASConstraintMaker</code>, 并为视图添加 <code>mas_left</code> <code>mas_right</code> 等属性.</p>
<p>方法的实现如下:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// View+MASAdditions.m</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSArray</span> *)mas_makeConstraints:(<span class="keyword">void</span>(^)(MASConstraintMaker *))block &#123;</span><br><span class="line"><span class="keyword">self</span>.translatesAutoresizingMaskIntoConstraints = <span class="literal">NO</span>;</span><br><span class="line">MASConstraintMaker *constraintMaker = [[MASConstraintMaker alloc] initWithView:<span class="keyword">self</span>];</span><br><span class="line">block(constraintMaker);</span><br><span class="line"><span class="keyword">return</span> [constraintMaker install];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>因为 Masonry 是封装的苹果的 AutoLayout 框架, 所以我们要在为视图添加约束前将 <code>translatesAutoresizingMaskIntoConstraints</code> 属性设置为 <code>NO</code>. 如果这个属性没有被正确设置, 那么视图的约束不会被成功添加.</p>
<p>在设置 <code>translatesAutoresizingMaskIntoConstraints</code> 属性之后, </p>
<ul>
<li>我们会初始化一个 <code>MASConstraintMaker</code> 的实例.</li>
<li>然后将 maker 传入 block 配置其属性.</li>
<li>最后调用 maker 的 <code>install</code> 方法为视图添加约束.</li>
</ul>
<h2 id="MASConstraintMaker"><a href="#MASConstraintMaker" class="headerlink" title="MASConstraintMaker"></a>MASConstraintMaker</h2><p><code>MASConstraintMaker</code> 为我们提供了工厂方法来创建 <code>MASConstraint</code>. 所有的约束都会被收集直到它们最后调用 <code>install</code> 方法添加到视图上.</p>
<blockquote>
<p>Provides factory methods for creating MASConstraints. Constraints are collected until they are ready to be installed</p>
</blockquote>
<p>在初始化 <code>MASConstraintMaker</code> 的实例时, 它会<strong>持有一个对应 view 的弱引用</strong>, 并初始化一个  <code>constraints</code> 的空可变数组用来之后配置属性时持有所有的约束.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraintMaker.m</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">id</span>)initWithView:(MAS_VIEW *)view &#123;</span><br><span class="line"><span class="keyword">self</span> = [<span class="keyword">super</span> init];</span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">self</span>) <span class="keyword">return</span> <span class="literal">nil</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">self</span>.view = view;</span><br><span class="line"><span class="keyword">self</span>.constraints = <span class="built_in">NSMutableArray</span>.new;</span><br><span class="line"></span><br><span class="line"><span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这里的 <code>MAS_VIEW</code> 是一个宏, 是 <code>UIView</code> 的 alias.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASUtilities.h</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MAS_VIEW UIView</span></span><br></pre></td></tr></table></figure>
<h2 id="Setup-MASConstraintMaker"><a href="#Setup-MASConstraintMaker" class="headerlink" title="Setup MASConstraintMaker"></a>Setup MASConstraintMaker</h2><p>在调用 <code>block(constraintMaker)</code> 时, 实际上是对 <code>constraintMaker</code> 的配置.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">make.centerX.equalTo(<span class="keyword">self</span>.view);</span><br><span class="line">make.top.equalTo(<span class="keyword">self</span>.view).with.offset(<span class="number">40</span>);</span><br><span class="line">make.width.equalTo(@<span class="number">185</span>);</span><br><span class="line">make.height.equalTo(@<span class="number">38</span>);</span><br></pre></td></tr></table></figure>
<h3 id="make-left"><a href="#make-left" class="headerlink" title="make.left"></a>make.left</h3><p>访问 <code>make</code> 的 <code>left</code> <code>right</code> <code>top</code> <code>bottom</code>  等属性时, 会调用 <code>constraint:addConstraintWithLayoutAttribute:</code> 方法.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASViewConstraint.m</span></span><br><span class="line"></span><br><span class="line">- (MASConstraint *)left &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">self</span> addConstraintWithLayoutAttribute:<span class="built_in">NSLayoutAttributeLeft</span>];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (MASConstraint *)addConstraintWithLayoutAttribute:(<span class="built_in">NSLayoutAttribute</span>)layoutAttribute &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">self</span> constraint:<span class="literal">nil</span> addConstraintWithLayoutAttribute:layoutAttribute];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (MASConstraint *)constraint:(MASConstraint *)constraint addConstraintWithLayoutAttribute:(<span class="built_in">NSLayoutAttribute</span>)layoutAttribute &#123;</span><br><span class="line">MASViewAttribute *viewAttribute = [[MASViewAttribute alloc] initWithView:<span class="keyword">self</span>.view layoutAttribute:layoutAttribute];</span><br><span class="line">MASViewConstraint *newConstraint = [[MASViewConstraint alloc] initWithFirstViewAttribute:viewAttribute];</span><br><span class="line"><span class="keyword">if</span> ([constraint isKindOfClass:MASViewConstraint.class]) &#123; ... &#125;</span><br><span class="line"><span class="keyword">if</span> (!constraint) &#123;</span><br><span class="line">newConstraint.delegate = <span class="keyword">self</span>;</span><br><span class="line">[<span class="keyword">self</span>.constraints addObject:newConstraint];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> newConstraint;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在调用链上最终会达到 <code>constraint:addConstraintWithLayoutAttribute:</code> 这一方法, 在这里省略了一些暂时不需要了解的问题. 因为在这个类中传入该方法的第一个参数一直为 <code>nil</code>, 所以这里省略的代码不会执行.</p>
<p>这部分代码会先以布局属性 <code>left</code> 和视图本身初始化一个 <code>MASViewAttribute</code> 的实例, 之后使用 <code>MASViewAttribute</code> 的实例初始化一个 <code>constraint</code> 并设置它的代理, 加入数组, 然后返回.</p>
<p>这些工作就是你在输入 <code>make.left</code> 进行的全部工作, 它会返回一个 <code>MASConstraint</code>, 用于之后的继续配置.</p>
<h3 id="make-left-equalTo-80"><a href="#make-left-equalTo-80" class="headerlink" title="make.left.equalTo(@80)"></a>make.left.equalTo(@80)</h3><p>在 <code>make.left</code> 返回 <code>MASConstraint</code> 之后, 我们会继续在这个链式的语法中调用下一个方法来指定约束的关系.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraint.h</span></span><br><span class="line"></span><br><span class="line">- (MASConstraint * (^)(<span class="keyword">id</span> attr))equalTo;</span><br><span class="line">- (MASConstraint * (^)(<span class="keyword">id</span> attr))greaterThanOrEqualTo;</span><br><span class="line">- (MASConstraint * (^)(<span class="keyword">id</span> attr))lessThanOrEqualTo;</span><br></pre></td></tr></table></figure>
<p>这三个方法是在 <code>MASViewConstraint</code> 的父类, <code>MASConstraint</code> 中定义的.</p>
<p><code>MASConstraint</code> 是一个抽象类, 其中有很多的方法都<strong>必须在子类中覆写</strong>的. Masonry 中有两个 <code>MASConstraint</code> 的子类, 分别是 <code>MASViewConstraint</code> 和 <code>MASCompositeConstraint</code>. 后者实际上是一些<strong>约束的集合</strong>. 这么设计的原因我们会在 post 的最后解释.</p>
<p>先来看一下这三个方法是怎么实现的:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraint.m</span></span><br><span class="line"></span><br><span class="line">- (MASConstraint * (^)(<span class="keyword">id</span>))equalTo &#123;</span><br><span class="line"><span class="keyword">return</span> ^<span class="keyword">id</span>(<span class="keyword">id</span> attribute) &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">self</span>.equalToWithRelation(attribute, <span class="built_in">NSLayoutRelationEqual</span>);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>该方法会导致 <code>self.equalToWithRelation</code> 的执行, 而这个方法是定义在子类中的, 因为父类作为抽象类没有提供这个方法的具体实现.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraint.m</span></span><br><span class="line"></span><br><span class="line">- (MASConstraint * (^)(<span class="keyword">id</span>, <span class="built_in">NSLayoutRelation</span>))equalToWithRelation &#123; MASMethodNotImplemented(); &#125;</span><br></pre></td></tr></table></figure>
<p><code>MASMethodNotImplemented</code> 也是一个宏定义, 用于在<strong>子类未继承这个方法</strong>或者<strong>直接使用这个类</strong>时抛出异常.</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraint.m</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> MASMethodNotImplemented() \</span></span><br><span class="line">@<span class="keyword">throw</span> [NSException exceptionWithName:NSInternalInconsistencyException \</span><br><span class="line">reason:[NSString stringWithFormat:@<span class="string">"You must override %@ in a subclass."</span>, NSStringFromSelector(_cmd)] \</span><br><span class="line">userInfo:nil]</span><br></pre></td></tr></table></figure>
<p>因为我们为 <code>equalTo</code> 提供了参数 <code>attribute</code> 和布局关系 <code>NSLayoutRelationEqual</code>, 这两个参数会传递到 <code>equalToWithRelation</code> 中, 设置 <code>constraint</code> 的布局关系和 <code>secondViewAttribute</code> 属性, 为即将 maker 的 <code>install</code> 做准备.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASViewConstraint.m</span></span><br><span class="line"></span><br><span class="line">- (MASConstraint * (^)(<span class="keyword">id</span>, <span class="built_in">NSLayoutRelation</span>))equalToWithRelation &#123;</span><br><span class="line"><span class="keyword">return</span> ^<span class="keyword">id</span>(<span class="keyword">id</span> attribute, <span class="built_in">NSLayoutRelation</span> relation) &#123;</span><br><span class="line"><span class="keyword">if</span> ([attribute isKindOfClass:<span class="built_in">NSArray</span>.class]) &#123; ... &#125; </span><br><span class="line"><span class="keyword">else</span> &#123;</span><br><span class="line">...</span><br><span class="line"><span class="keyword">self</span>.layoutRelation = relation;</span><br><span class="line"><span class="keyword">self</span>.secondViewAttribute = attribute;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>我们不得不提一下 <code>setSecondViewAttribute:</code> 方法, 它并不只是一个简单的 setter 方法, 它会根据你传入的值的种类赋值.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraintMaker.m</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setSecondViewAttribute:(<span class="keyword">id</span>)secondViewAttribute &#123;</span><br><span class="line"><span class="keyword">if</span> ([secondViewAttribute isKindOfClass:<span class="built_in">NSValue</span>.class]) &#123;</span><br><span class="line">[<span class="keyword">self</span> setLayoutConstantWithValue:secondViewAttribute];</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> ([secondViewAttribute isKindOfClass:MAS_VIEW.class]) &#123;</span><br><span class="line">_secondViewAttribute = [[MASViewAttribute alloc] initWithView:secondViewAttribute layoutAttribute:<span class="keyword">self</span>.firstViewAttribute.layoutAttribute];</span><br><span class="line">&#125; <span class="keyword">else</span> <span class="keyword">if</span> ([secondViewAttribute isKindOfClass:MASViewAttribute.class]) &#123;</span><br><span class="line">_secondViewAttribute = secondViewAttribute;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line"><span class="built_in">NSAssert</span>(<span class="literal">NO</span>, <span class="string">@"attempting to add unsupported attribute: %@"</span>, secondViewAttribute);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>第一种情况对应的就是:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make.left.equalTo(@<span class="number">40</span>);</span><br></pre></td></tr></table></figure>
<p>传入 <code>NSValue</code> 的时, 会直接设置 <code>constraint</code> 的 <code>offset</code>, <code>centerOffset</code>, <code>sizeOffset</code>, 或者 <code>insets</code></p>
<p>第二种情况一般会直接传入一个视图:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make.left.equalTo(view);</span><br></pre></td></tr></table></figure>
<p>这时, 就会初始化一个 <code>layoutAttribute</code> 属性与 <code>firstViewArribute</code> 相同的 <code>MASViewAttribute</code>, 上面的代码就会使视图与 <code>view</code> 左对齐.</p>
<p>第三种情况会传入一个视图的 <code>MASViewAttribute</code>:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make.left.equalTo(view.mas_right);</span><br></pre></td></tr></table></figure>
<p>使用这种写法时, 一般是因为约束的方向不同. 这行代码会使视图的左侧与 <code>view</code> 的右侧对齐.</p>
<p>到这里我们就基本完成了对<strong>一个</strong>约束的配置, 接下来可以使用相同的语法完成对一个视图上所有约束进行配置, 然后进入了最后一个环节.</p>
<h2 id="Install-MASConstraintMaker"><a href="#Install-MASConstraintMaker" class="headerlink" title="Install MASConstraintMaker"></a>Install MASConstraintMaker</h2><p>我们会在 <code>mas_makeConstraints:</code> 方法的最后调用 <code>[constraintMaker install]</code> 方法来安装所有存储在 <code>self.constraints</code> 数组中的所有约束.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraintMaker.m</span></span><br><span class="line"></span><br><span class="line">- (<span class="built_in">NSArray</span> *)install &#123;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.removeExisting) &#123;</span><br><span class="line"><span class="built_in">NSArray</span> *installedConstraints = [MASViewConstraint installedConstraintsForView:<span class="keyword">self</span>.view];</span><br><span class="line"><span class="keyword">for</span> (MASConstraint *constraint <span class="keyword">in</span> installedConstraints) &#123;</span><br><span class="line">[constraint uninstall];</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">NSArray</span> *constraints = <span class="keyword">self</span>.constraints.copy;</span><br><span class="line"><span class="keyword">for</span> (MASConstraint *constraint <span class="keyword">in</span> constraints) &#123;</span><br><span class="line">constraint.updateExisting = <span class="keyword">self</span>.updateExisting;</span><br><span class="line">[constraint install];</span><br><span class="line">&#125;</span><br><span class="line">[<span class="keyword">self</span>.constraints removeAllObjects];</span><br><span class="line"><span class="keyword">return</span> constraints;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在这个方法会先判断当前的视图的约束是否应该要被 <code>uninstall</code>, 如果我们在最开始调用 <code>mas_remakeConstraints:</code> 方法时, 视图中原来的约束就会全部被 <code>uninstall</code>.</p>
<p>然后就会遍历 <code>constraints</code> 数组, 发送 <code>install</code> 消息.</p>
<h3 id="MASViewConstraint-install"><a href="#MASViewConstraint-install" class="headerlink" title="MASViewConstraint install"></a>MASViewConstraint install</h3><p>MASViewConstraint 的 <code>install</code> 方法就是最后为当前视图添加约束的最后的方法, 首先这个方法会先获取即将用于初始化 <code>NSLayoutConstraint</code> 的子类的几个属性.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASViewConstraint.m</span></span><br><span class="line"></span><br><span class="line">MAS_VIEW *firstLayoutItem = <span class="keyword">self</span>.firstViewAttribute.view;</span><br><span class="line"><span class="built_in">NSLayoutAttribute</span> firstLayoutAttribute = <span class="keyword">self</span>.firstViewAttribute.layoutAttribute;</span><br><span class="line">MAS_VIEW *secondLayoutItem = <span class="keyword">self</span>.secondViewAttribute.view;</span><br><span class="line"><span class="built_in">NSLayoutAttribute</span> secondLayoutAttribute = <span class="keyword">self</span>.secondViewAttribute.layoutAttribute;</span><br></pre></td></tr></table></figure>
<p>Masonry 之后会判断当前即将添加的约束是否是 size 类型的约束</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASViewConstraint.m</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!<span class="keyword">self</span>.firstViewAttribute.isSizeAttribute &amp;&amp; !<span class="keyword">self</span>.secondViewAttribute) &#123;</span><br><span class="line">secondLayoutItem = firstLayoutItem.superview;</span><br><span class="line">secondLayoutAttribute = firstLayoutAttribute;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果不是 size 类型并且没有提供第二个 <code>viewAttribute</code>, (e.g. <code>make.left.equalTo(@10);</code>) 会自动将约束添加到 <code>superview</code> 上. 它等价于:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">make.left.equalTo(superView.mas_left).with.offset(<span class="number">10</span>);</span><br></pre></td></tr></table></figure>
<p>然后就会初始化 <code>NSLayoutConstraint</code> 的子类 <code>MASLayoutConstraint</code>:</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASViewConstraint.m</span></span><br><span class="line"></span><br><span class="line">MASLayoutConstraint *layoutConstraint</span><br><span class="line">= [MASLayoutConstraint constraintWithItem:firstLayoutItem</span><br><span class="line">attribute:firstLayoutAttribute</span><br><span class="line">relatedBy:<span class="keyword">self</span>.layoutRelation</span><br><span class="line">toItem:secondLayoutItem</span><br><span class="line">attribute:secondLayoutAttribute</span><br><span class="line">multiplier:<span class="keyword">self</span>.layoutMultiplier</span><br><span class="line">constant:<span class="keyword">self</span>.layoutConstant];</span><br><span class="line">layoutConstraint.priority = <span class="keyword">self</span>.layoutPriority;</span><br></pre></td></tr></table></figure>
<p>接下来它会寻找 <code>firstLayoutItem</code> 和 <code>secondLayoutItem</code> 两个视图的公共 <code>superview</code>, 相当于求两个数的最小公倍数. </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// View+MASAdditions.m</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">instancetype</span>)mas_closestCommonSuperview:(MAS_VIEW *)view &#123;</span><br><span class="line">MAS_VIEW *closestCommonSuperview = <span class="literal">nil</span>;</span><br><span class="line"></span><br><span class="line">MAS_VIEW *secondViewSuperview = view;</span><br><span class="line"><span class="keyword">while</span> (!closestCommonSuperview &amp;&amp; secondViewSuperview) &#123;</span><br><span class="line">MAS_VIEW *firstViewSuperview = <span class="keyword">self</span>;</span><br><span class="line"><span class="keyword">while</span> (!closestCommonSuperview &amp;&amp; firstViewSuperview) &#123;</span><br><span class="line"><span class="keyword">if</span> (secondViewSuperview == firstViewSuperview) &#123;</span><br><span class="line">closestCommonSuperview = secondViewSuperview;</span><br><span class="line">&#125;</span><br><span class="line">firstViewSuperview = firstViewSuperview.superview;</span><br><span class="line">&#125;</span><br><span class="line">secondViewSuperview = secondViewSuperview.superview;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> closestCommonSuperview;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果需要升级当前的约束就会获取原有的约束, 并替换为新的约束, 这样就不需要再次为 <code>view</code> 安装约束.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASViewConstraint.m</span></span><br><span class="line"></span><br><span class="line">MASLayoutConstraint *existingConstraint = <span class="literal">nil</span>;</span><br><span class="line"><span class="keyword">if</span> (<span class="keyword">self</span>.updateExisting) &#123;</span><br><span class="line">existingConstraint = [<span class="keyword">self</span> layoutConstraintSimilarTo:layoutConstraint];</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (existingConstraint) &#123;</span><br><span class="line"><span class="comment">// just update the constant</span></span><br><span class="line">existingConstraint.constant = layoutConstraint.constant;</span><br><span class="line"><span class="keyword">self</span>.layoutConstraint = existingConstraint;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">[<span class="keyword">self</span>.installedView addConstraint:layoutConstraint];</span><br><span class="line"><span class="keyword">self</span>.layoutConstraint = layoutConstraint;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">[firstLayoutItem.mas_installedConstraints addObject:<span class="keyword">self</span>];</span><br></pre></td></tr></table></figure>
<p>如果原来的 <code>view</code> 中不存在可以升级的约束, 或者没有调用 <code>mas_updateConstraint:</code> 方法, 那么就会在上一步寻找到的 <code>installedView</code> 上面添加约束. </p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">self</span>.installedView addConstraint:layoutConstraint];</span><br></pre></td></tr></table></figure>
<h2 id="其他问题"><a href="#其他问题" class="headerlink" title="其他问题"></a>其他问题</h2><p>到现在为止整个 Masonry 为视图添加约束的过程就已经完成了, 然而我们还有一些待解决的其它问题.</p>
<h3 id="make-left-equal-view-with-offset-30"><a href="#make-left-equal-view-with-offset-30" class="headerlink" title="make.left.equal(view).with.offset(30)"></a>make.left.equal(view).with.offset(30)</h3><p>我们在前面的讨论中已经讨论了这个链式语法的前半部分, 但是在使用中也会”延长”这个链式语句, 比如添加 <code>with</code> <code>offset</code>.</p>
<p>其实在 Masonry 中使用 <code>with</code> 并不是必须的, 它的作用仅仅是使代码更加的易读.</p>
<blockquote>
<p>Optional semantic property which has no effect but improves the readability of constraint</p>
</blockquote>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraint.m</span></span><br><span class="line">- (MASConstraint *)with &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (MASConstraint *)and &#123;</span><br><span class="line"><span class="keyword">return</span> <span class="keyword">self</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>与 <code>with</code> 有着相同作用的还有 <code>and</code>, 这两个方法都会直接返回 <code>MASConstraint</code>, 方法本身不做任何的修改.</p>
<p>而 <code>offset</code> 方法其实是修改 <code>layoutConstraint</code> 中的常量, 因为 <code>self.layoutConstant</code> 在初始化时会被设置为 0, 我们可以通过修改 <code>offset</code> 属性来改变它.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASViewConstraint.m</span></span><br><span class="line"></span><br><span class="line">- (<span class="keyword">void</span>)setOffset:(<span class="built_in">CGFloat</span>)offset &#123;</span><br><span class="line"><span class="keyword">self</span>.layoutConstant = offset;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="MASCompositeConstraint"><a href="#MASCompositeConstraint" class="headerlink" title="MASCompositeConstraint"></a>MASCompositeConstraint</h3><p><code>MASCompositeConstraint</code> 是一些 <code>MASConstraint</code> 的集合, 它能够提供一种更加便捷的方法同时为一个视图来添加多个约束.</p>
<blockquote>
<p>A group of MASConstraint objects</p>
</blockquote>
<p>通过 <code>make</code> 直接调用 <code>edges</code> <code>size</code> <code>center</code> 时, 就会产生一个 <code>MASCompositeConstraint</code> 的实例, 而这个实例会初始化所有对应的单独的约束.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraintMaker.m</span></span><br><span class="line"></span><br><span class="line">- (MASConstraint *)edges &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">self</span> addConstraintWithAttributes:MASAttributeTop | MASAttributeLeft | MASAttributeRight | MASAttributeBottom];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (MASConstraint *)size &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">self</span> addConstraintWithAttributes:MASAttributeWidth | MASAttributeHeight];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">- (MASConstraint *)center &#123;</span><br><span class="line"><span class="keyword">return</span> [<span class="keyword">self</span> addConstraintWithAttributes:MASAttributeCenterX | MASAttributeCenterY];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这些属性都会调用 <code>addConstraintWithAttributes:</code> 方法, 生成多个属于 <code>MASCompositeConstraint</code> 的实例.</p>
<figure class="highlight objectivec"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// MASConstraintMaker.m</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">NSMutableArray</span> *children = [<span class="built_in">NSMutableArray</span> arrayWithCapacity:attributes.count];</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (MASViewAttribute *a <span class="keyword">in</span> attributes) &#123;</span><br><span class="line">[children addObject:[[MASViewConstraint alloc] initWithFirstViewAttribute:a]];</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">MASCompositeConstraint *constraint = [[MASCompositeConstraint alloc] initWithChildren:children];</span><br><span class="line">constraint.delegate = <span class="keyword">self</span>;</span><br><span class="line">[<span class="keyword">self</span>.constraints addObject:constraint];</span><br><span class="line"><span class="keyword">return</span> constraint;</span><br></pre></td></tr></table></figure>
<h3 id="mas-equalTo"><a href="#mas-equalTo" class="headerlink" title="mas_equalTo"></a>mas_equalTo</h3><p>Masonry 中还有一个类似与 magic 的宏, 这个宏将 C 和 Objective-C 语言中的一些基本数据结构比如说 <code>double</code> <code>CGPoint</code> <code>CGSize</code> 这些值用 <code>NSValue</code> 进行包装.</p>
<p>这是一种非常简洁的使用方式, 如果你对这个非常感兴趣, 可以看一下 <code>MASUtilities.h</code> 中的源代码, 在这里就不对这个做出解释了.</p>
<h2 id="Masonry-如何为视图添加约束-面试回答"><a href="#Masonry-如何为视图添加约束-面试回答" class="headerlink" title="Masonry 如何为视图添加约束(面试回答)"></a>Masonry 如何为视图添加约束(面试回答)</h2><p>Masonry 与其它的第三方开源框架一样选择了使用分类的方式为 UIKit 添加一个方法 <code>mas_makeConstraint</code>, 这个方法接受了一个 block, 这个 block 有一个 <code>MASConstraintMaker</code> 类型的参数, 这个 maker 会持有一个<strong>约束的数组</strong>, 这里保存着所有将被加入到视图中的约束.</p>
<p>我们通过链式的语法配置 maker, 设置它的 <code>left</code> <code>right</code> 等属性, 比如说 <code>make.left.equalTo(view)</code>, 其实这个 <code>left</code> <code>equalTo</code> 还有像 <code>with</code> <code>offset</code> 之类的方法都会返回一个 <code>MASConstraint</code> 的实例, 所以在这里才可以用类似 Ruby 中链式的语法. </p>
<p>在配置结束后, 首先会调用 maker 的 <code>install</code> 方法, 而这个 maker 的 <code>install</code> 方法会遍历其持有的约束数组, 对其中的每一个约束发送 <code>install</code> 消息. 在这里就会使用到在上一步中配置的属性, 初始化 <code>NSLayoutConstraint</code> 的子类 <code>MASLayoutConstraint</code> 并添加到合适的视图上.</p>
<p>视图的选择会通过调用一个方法 <code>mas_closestCommonSuperview:</code> 来返回两个视图的<strong>最近公共父视图</strong>.</p>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>虽然 Masonry 这个框架中的代码并不是非常的多, 只有 1,2 万行的代码, 但是感觉这个项目阅读起来十分的困难, 没有 SDWebImage 清晰, 因为代码中类的属性非常的多, 而且有很多相似的属性会干扰我们对这个项目的阅读, 整个框架运用了大量的 block 语法进行回调. </p>
<p>虽然代码十分整洁不过我觉得却降低了可读性, 但是还是那句话, 把简洁留给别人复杂留给自己, 只要为开发者提供简洁的接口就可以了.</p>
<p>Follow: <a href="https://github.com/Draveness" target="_blank" rel="noopener">@Draveness</a></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/05/28/iOS-源代码分析-Masonry/" data-id="cjw7l97990000oq04zevqfxnt" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-十一" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-十一/" class="article-date">
  <time datetime="2019-03-21T08:43:56.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-十一/">javascript(十一)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="作用域【scope】"><a href="#作用域【scope】" class="headerlink" title="作用域【scope】"></a>作用域【scope】</h2><blockquote>
<p>一段程序代码中所用到的数据并不总是有效/可用的，而限定这个数据的可用性的代码范围就是这个名字的作用域。【一条数据可以在哪个范围中使用】</p>
</blockquote>
<ul>
<li>作用域的使用提高了程序逻辑的局部性，增强程序的可靠性，减少名字冲突</li>
<li>一个变量是全局变量，还是局部变量主要来看变量声明的位置,==声明在函数内部，就是这个函数的局部变量.==</li>
<li>在js的ECMAScript5.1中，只有函数可以产生作用域</li>
<li>当我们声明一个函数的时候，同时该函数就会创建一个属性这个属性是<a href="作用域">[Scopes]</a>,我们在这个函数中 声明的变量都会被存入这个函数的[[Scopes]]属性中</li>
</ul>
<p>函数外部的变量不可以访问函数内部的局部变量数据。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">var i = 10;</span><br><span class="line">function fn()&#123;</span><br><span class="line">for(var i = 0;i&lt;100;i++)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line">alert(i); //10</span><br><span class="line">原因：因为for循环的时候var(声明)了i，所以i只是作为fn内部的局部变量，alert(i)在外面是不能获取到的。</span><br></pre></td></tr></table></figure></p>
<p>第二个var预解析,但是只会把预解析提到当前script(或function)的最前面。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">var i = 0;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">alert(i); //0</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">__________________</span><br><span class="line">&lt;script&gt;</span><br><span class="line">alert(i);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var i = 0;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="全局作用域（全局变量）【在任何地方都能访问】"><a href="#全局作用域（全局变量）【在任何地方都能访问】" class="headerlink" title="全局作用域（全局变量）【在任何地方都能访问】"></a>全局作用域（全局变量）【在任何地方都能访问】</h3><blockquote>
<p>没有声明在任何函数内部的变量，就是全局，全局变量在全局的任何地方就可以调用和修改，尽量不要使用全局变量，会造成全局污染</p>
<ul>
<li>==函数外定义的变量==拥有全局作用域</li>
<li>==不使用var定义的变量==拥有全局作用域</li>
<li>==所有window对象上的属性==拥有全局作用域</li>
<li>==没有声明在任何函数内部==的函数拥有全局作用域<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">1.加在window上边的内容作用域属于全局的，</span><br><span class="line">属于window的属性，可以不用写window，直接写属性名就行</span><br><span class="line">function fn()&#123;</span><br><span class="line">window.nub = 100;</span><br><span class="line">&#125;    </span><br><span class="line">fn();</span><br><span class="line">alert(nub);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">2.变量如果不加声明，就默认认为是window的内容，作用域变成全局了</span><br><span class="line">function fn()&#123;</span><br><span class="line">nub = 100;</span><br><span class="line">&#125;    </span><br><span class="line">fn();</span><br><span class="line">alert(nub);</span><br><span class="line"></span><br><span class="line">3.没有声明在任何函数内部的变量(全局),就是全局变量。</span><br><span class="line">在全局的任何地方就可以调用和修改,尽量不要使用全局变量，会造成全局污染</span><br><span class="line">var nub = 0;</span><br><span class="line">function fn()&#123;</span><br><span class="line">nub = 10;</span><br><span class="line">&#125;</span><br><span class="line">fn();</span><br><span class="line">alert(nub);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<h4 id="全局命名空间污染："><a href="#全局命名空间污染：" class="headerlink" title="全局命名空间污染："></a>全局命名空间污染：</h4><blockquote>
<p>在程序中经常需要引用一些库，如C++编译系统提供的标准库、由第三方软件开发商提供的开发库或者用户自己开发的库等。如果在这些库中含有与程序中定义的全局实体同名的实体，或者不同的库之间有同名的实体，则在编译时都会出现名字冲突，这就称为全局命名空间污染 (命名冲突)</p>
</blockquote>
<h3 id="局部作用域（局部变量）【只能在函数内部访问】"><a href="#局部作用域（局部变量）【只能在函数内部访问】" class="headerlink" title="局部作用域（局部变量）【只能在函数内部访问】"></a>局部作用域（局部变量）【只能在函数内部访问】</h3><ul>
<li>使用var在函数内部定义的变量,和使用function在函数内部声明的函数,拥有局部作用域<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//i在当前的函数中定义为0，下面的函数中并没有这个i，所以报错</span><br><span class="line">(function()&#123;</span><br><span class="line">var i = 0;</span><br><span class="line">&#125;)();</span><br><span class="line">(function()&#123;</span><br><span class="line">alert(i); //报错</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h2><blockquote>
<p>当我们调用一个变量或者函数的时候，首先会在当前作用域下找该变量和函数的声明，如果当前作用域下没有，则会找当前作用域上一级作用域，直到找到或找到全局作用域下是否有声明，如果还有没有，则报错。</p>
</blockquote>
<h3 id="变量与函数的查找规则："><a href="#变量与函数的查找规则：" class="headerlink" title="变量与函数的查找规则："></a>变量与函数的查找规则：</h3><ul>
<li>当我们调用一条数据的时候，js首先会在当前作用域中进行查找，如果找不到，就向上找到父级的作用域，如果在父级的作用域中也找不到，就继续向上查找，直到window的作用域。如果在window中也找不到，就报错了。如果在当前作用域中找到了，那就用当前的。</li>
</ul>
<h2 id="预解析"><a href="#预解析" class="headerlink" title="预解析"></a>预解析</h2><blockquote>
<p>浏览器每读到一个script标签或function，先不执行任何代码，会先把整个代码快速的浏览一遍，然后从中 挑出 var 和 function两个关键字 .</p>
<ul>
<li>var： 预解析遇到 var 就把 ==var 连同它后边的名字==一块 提到script(或function) 的最前边,预解析完成之后，在从上向下一行一行执行代码，如果碰到了 = 就赋值;</li>
<li>function:预解析遇到function,就把整个函数提到提到==script(或function) 的最前边==（跟在var的后边预解析先解析var 再解析 function）<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">alert(b);//function b()&#123;console.log(1);&#125;</span><br><span class="line">function b()&#123;</span><br><span class="line">console.log(1);</span><br><span class="line">&#125;</span><br><span class="line">var b = 0;</span><br><span class="line">解析步骤：</span><br><span class="line">var b;</span><br><span class="line">function b()&#123;</span><br><span class="line">console.log(1);</span><br><span class="line">&#125;</span><br><span class="line">alert(b);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">alert(b); // function b()&#123; var b = 10; &#125;</span><br><span class="line">var b = 0;</span><br><span class="line">alert(b); // 0</span><br><span class="line">function b()&#123; var b = 10; &#125;    </span><br><span class="line">alert(b); // 0   </span><br><span class="line">var b = 20;</span><br><span class="line">alert(b); //20</span><br><span class="line">var b = function()&#123; var b = 30;&#125;</span><br><span class="line">alert(b); // function()&#123; var b = 30;&#125;</span><br><span class="line"></span><br><span class="line">解析步骤：</span><br><span class="line">var b;</span><br><span class="line">var b;</span><br><span class="line">var b;</span><br><span class="line">function b()&#123;var b = 10;&#125;</span><br><span class="line">alert(b);</span><br><span class="line">var b = 0;</span><br><span class="line">alert(b);</span><br><span class="line">alert(b);</span><br><span class="line">var b = 20;</span><br><span class="line">alert(b);</span><br><span class="line">var b = function()&#123;var b = 30;&#125;</span><br><span class="line">alert(b);</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">alert(a);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var a = 100;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><blockquote>
<p>函数嵌套函数产生一个闭包环境，内部函数可以访问外部函数的局部变量数据,但是外部函数不能访问内部函数的局部变量数据。</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">function fn(x) &#123;</span><br><span class="line">return function(y)&#123;</span><br><span class="line">alert(x + y);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;    </span><br><span class="line">var bar = fn(2);</span><br><span class="line">bar(10);</span><br><span class="line"></span><br><span class="line">//解析</span><br><span class="line">var bar;</span><br><span class="line">function fn(x)&#123;</span><br><span class="line">return function(y)&#123;</span><br><span class="line">alert(x+y);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">var bar = fn(2);</span><br><span class="line">var bar = function(y)&#123;</span><br><span class="line">alert(2+y);</span><br><span class="line">&#125;</span><br><span class="line">bar(10);</span><br><span class="line">function bar(10)&#123;</span><br><span class="line">alert(2+10); //12;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="闭包应用"><a href="#闭包应用" class="headerlink" title="闭包应用"></a>闭包应用</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">var btn = document.querySelectorAll(&apos;input&apos;);</span><br><span class="line">function setEv(nub)&#123;</span><br><span class="line">btn[nub].onclick = function()&#123;</span><br><span class="line">alert(nub);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">/*setEv(0);</span><br><span class="line">setEv(1);</span><br><span class="line">setEv(2);*/</span><br><span class="line">for(var i = 0; i &lt; btn.length; i++)&#123;</span><br><span class="line">setEv(i);</span><br><span class="line">&#125;</span><br><span class="line">_________________________</span><br><span class="line">var btn = document.querySelectorAll(&apos;input&apos;);</span><br><span class="line">for(var i = 0; i &lt; btn.length; i++)&#123;</span><br><span class="line">//每一次都自执行一次，然后把每次循环的i值通过形参传入</span><br><span class="line">(function(index)&#123;</span><br><span class="line">btn[index].onclick = function()&#123;</span><br><span class="line">alert(index);</span><br><span class="line">&#125;</span><br><span class="line">&#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">——————————————————————————</span><br><span class="line">var btn = document.querySelector(&apos;input&apos;);</span><br><span class="line">function setEv()&#123;</span><br><span class="line">var nub = 0;</span><br><span class="line">return function()&#123;</span><br><span class="line">nub++;</span><br><span class="line">alert(nub);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">// var fn  = setEv();</span><br><span class="line">// fn();</span><br><span class="line">// fn();</span><br><span class="line">btn.onclick = setEv();</span><br><span class="line"></span><br><span class="line">解析：</span><br><span class="line">var nub = 0;</span><br><span class="line">btn.onclick = function()&#123;</span><br><span class="line">nub++;</span><br><span class="line">alert(nub); //1 2 3 ....</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="内存泄漏"><a href="#内存泄漏" class="headerlink" title="内存泄漏"></a>内存泄漏</h2><p>问题：当内部函数被外部所引用的时候，那么闭包函数所产生的数据将不会被垃圾回收，可能会造成程序中的数据在内存所占用的空间得不到及时的释放，从而产生内存泄漏。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-十一/" data-id="cjw7l979y000moq04jswulwek" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-十" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-十/" class="article-date">
  <time datetime="2019-03-21T08:43:55.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-十/">javascript(十)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="练习讲解"><a href="#练习讲解" class="headerlink" title="练习讲解"></a>练习讲解</h2><h3 id="console-time"><a href="#console-time" class="headerlink" title="console.time();"></a>console.time();</h3><blockquote>
<p>打印执行时间</p>
</blockquote>
<h4 id="注意：操作了元素的innerHTML之后，元素子元素上的所有js事件都会失效，除非写的是行间事件。"><a href="#注意：操作了元素的innerHTML之后，元素子元素上的所有js事件都会失效，除非写的是行间事件。" class="headerlink" title="注意：操作了元素的innerHTML之后，元素子元素上的所有js事件都会失效，除非写的是行间事件。"></a>注意：操作了元素的innerHTML之后，元素子元素上的所有js事件都会失效，除非写的是行间事件。</h4><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><blockquote>
<p>在实际编码中，会有很多的一些代码可能重复出现，为了能简化程序开发，重复利用，所以有了函数的概念。(function功能方法，把一个个零散的带吗和数据，组合成一个完整的方法)</p>
</blockquote>
<p>定义函数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">function fn()&#123;</span><br><span class="line">alert(1);</span><br><span class="line">&#125;</span><br><span class="line">var fn2 = function()&#123;</span><br><span class="line">alert(2);</span><br><span class="line">&#125;</span><br><span class="line">fn2();</span><br><span class="line">/*函数调用*/</span><br><span class="line">fn(); //直接调用</span><br><span class="line">document.onclick = fn2;//事件调用</span><br><span class="line">document.onclick();//2</span><br><span class="line">document.onclick();//2</span><br></pre></td></tr></table></figure></p>
<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><blockquote>
<p>函数表达式 – 匿名函数自执行 </p>
<ol>
<li>(函数)();</li>
<li>!函数();</li>
<li>~函数();</li>
<li>+函数();</li>
<li>-函数();<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">(function()&#123;</span><br><span class="line">alert(1);</span><br><span class="line">&#125;)();</span><br><span class="line">!function()&#123;</span><br><span class="line">alert(2);</span><br><span class="line">&#125;();</span><br><span class="line">+function()&#123;</span><br><span class="line">alert(3);</span><br><span class="line">&#125;();</span><br></pre></td></tr></table></figure>
</li>
</ol>
</blockquote>
<h2 id="传参"><a href="#传参" class="headerlink" title="传参"></a>传参</h2><blockquote>
<p>函数拥有多个参数，注意再使用的时候，行参和实参要一一对应。</p>
</blockquote>
<ul>
<li><p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fn(a形参)&#123;</span><br><span class="line">alert(a参数使用);</span><br><span class="line">&#125;</span><br><span class="line">fn(实参);</span><br></pre></td></tr></table></figure>
</li>
<li><p>实例：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function fn(a,b)&#123;</span><br><span class="line">alert(a + b);</span><br><span class="line">&#125;</span><br><span class="line">fn(1,5); //6</span><br><span class="line">fn(2.3); //5</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="讲解剖析【选项卡】"><a href="#讲解剖析【选项卡】" class="headerlink" title="讲解剖析【选项卡】"></a>讲解剖析【选项卡】</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//把要操作的大盒子和事件通过传参的形式传递</span><br><span class="line">tab(&quot;#wrap&quot;,&quot;onmouseover&quot;);</span><br><span class="line">tab(&quot;#wrap2&quot;,&quot;onclick&quot;);</span><br><span class="line">function tab(id,ev) &#123;</span><br><span class="line">var wrap = document.querySelector(id);</span><br><span class="line">var navs = wrap.querySelectorAll(&apos;nav a&apos;);</span><br><span class="line">var cons = wrap.querySelectorAll(&apos;.cons&gt;div&apos;);</span><br><span class="line">for(var i = 0; i &lt; navs.length; i++)&#123;</span><br><span class="line">navs[i].index = i;</span><br><span class="line">navs[i][ev] = function()&#123;</span><br><span class="line">for(var i = 0; i &lt; navs.length; i++)&#123;</span><br><span class="line">navs[i].className = &quot;&quot;;</span><br><span class="line">cons[i].className = &quot;&quot;;</span><br><span class="line">&#125;</span><br><span class="line">this.className = &quot;active&quot;;</span><br><span class="line">cons[this.index].className = &quot;show&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="讲解剖析【选中编辑】"><a href="#讲解剖析【选中编辑】" class="headerlink" title="讲解剖析【选中编辑】"></a>讲解剖析【选中编辑】</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">&lt;ul class=&quot;list&quot;&gt;</span><br><span class="line">&lt;li&gt;</span><br><span class="line">&lt;span class=&quot;info&quot;&gt;写点啥呢&lt;/span&gt;</span><br><span class="line">&lt;a href=&quot;javascript:;&quot; class=&quot;editBtn&quot;&gt;编辑&lt;/a&gt;</span><br><span class="line">&lt;div class=&quot;edit&quot;&gt;</span><br><span class="line">&lt;input type=&quot;text&quot; name=&quot;&quot;&gt;</span><br><span class="line">&lt;a href=&quot;javascript:;&quot;&gt;确定&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;javascript:;&quot;&gt;取消&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/li&gt;</span><br><span class="line">&lt;/ul&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">/*</span><br><span class="line">具体思路分析：</span><br><span class="line">点击编辑按钮:</span><br><span class="line">1) 找到edit 显示出来</span><br><span class="line">2) 把info的innerHTML，添加给输入框做内容</span><br><span class="line">点击取消按钮：</span><br><span class="line">找到edit 隐藏</span><br><span class="line">点击确定按钮:</span><br><span class="line">1) 判断输入框中的内容如果为空弹出提示，否则执行下边的内容</span><br><span class="line">2)     把输入框的内容添加给span的innerHTML</span><br><span class="line">3)    edit 隐藏</span><br><span class="line">*/    </span><br><span class="line">window.onload = function() &#123;</span><br><span class="line">var li = document.querySelectorAll(&apos;.list li&apos;);</span><br><span class="line">// setEdit(li[0]);</span><br><span class="line">// setEdit(li[1]);</span><br><span class="line">// setEdit(li[2]);</span><br><span class="line">for(var i = 0; i &lt; li.length; i++)&#123;</span><br><span class="line">setEdit(li[i]);</span><br><span class="line">&#125;</span><br><span class="line">function setEdit(li)&#123;</span><br><span class="line">var info = li.querySelector(&apos;.info&apos;);</span><br><span class="line">var editBtn = li.querySelector(&apos;.editBtn&apos;);</span><br><span class="line">var edit = li.querySelector(&apos;.edit&apos;);</span><br><span class="line">var text =  edit.querySelector(&apos;input&apos;);</span><br><span class="line">var btns = edit.querySelectorAll(&apos;a&apos;);</span><br><span class="line">editBtn.onclick = function()&#123;</span><br><span class="line">edit.style.display = &quot;block&quot;;</span><br><span class="line">text.value = info.innerHTML;</span><br><span class="line">&#125;; </span><br><span class="line">btns[0].onclick = function()&#123;</span><br><span class="line">if(text.value == &quot;&quot;) &#123;</span><br><span class="line">alert(&quot;请输入内容&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">info.innerHTML = text.value;</span><br><span class="line">edit.style.display = &quot;none&quot;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">btns[1].onclick = function()&#123;</span><br><span class="line">edit.style.display = &quot;none&quot;;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<h2 id="讲解剖析【点击图片切换】"><a href="#讲解剖析【点击图片切换】" class="headerlink" title="讲解剖析【点击图片切换】"></a>讲解剖析【点击图片切换】</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line">p &#123;</span><br><span class="line">margin: 0;</span><br><span class="line">&#125;</span><br><span class="line">.wrap &#123;</span><br><span class="line">position: relative;</span><br><span class="line">width: 300px;</span><br><span class="line">margin: 30px auto;</span><br><span class="line">&#125;    </span><br><span class="line">.wrap img &#123;</span><br><span class="line">display: block;</span><br><span class="line">&#125;</span><br><span class="line">.wrap p &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">left: 0;</span><br><span class="line">right: 0;</span><br><span class="line">font: 14px/30px &quot;宋体&quot;;</span><br><span class="line">text-align: center;</span><br><span class="line">background: rgba(255, 255, 255, .4);</span><br><span class="line">&#125;</span><br><span class="line">.wrap p:first-of-type &#123;</span><br><span class="line">top: 0;</span><br><span class="line">&#125;</span><br><span class="line">.wrap p:last-of-type &#123;</span><br><span class="line">bottom: 0;</span><br><span class="line">&#125;</span><br><span class="line">.btn &#123;</span><br><span class="line">position: absolute;</span><br><span class="line">top: 204px;</span><br><span class="line">width: 40px;</span><br><span class="line">height: 40px;</span><br><span class="line">background: #000;</span><br><span class="line">font: 14px/40px Arial;</span><br><span class="line">color: #fff;</span><br><span class="line">text-decoration: none;</span><br><span class="line">text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.btn:first-of-type &#123;</span><br><span class="line">left: -40px;</span><br><span class="line">&#125;</span><br><span class="line">.btn:last-of-type &#123;</span><br><span class="line">right: -40px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var data = [</span><br><span class="line">&#123;</span><br><span class="line">name: &quot;童童&quot;,</span><br><span class="line">img: &apos;img/1.JPG&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">name: &quot;学辉&quot;,</span><br><span class="line">img: &apos;img/2.JPG&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">name: &quot;承龙&quot;,</span><br><span class="line">img: &apos;img/3.JPG&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">name: &quot;老刘&quot;,</span><br><span class="line">img: &apos;img/4.JPG&apos;,</span><br><span class="line">&#125;,</span><br><span class="line">&#123;</span><br><span class="line">name: &quot;老王&quot;,</span><br><span class="line">img: &apos;img/5.JPG&apos;,</span><br><span class="line">&#125;</span><br><span class="line">];</span><br><span class="line">window.onload = function() &#123;</span><br><span class="line">var wrap = document.querySelector(&apos;.wrap&apos;);</span><br><span class="line">var img = wrap.querySelector(&apos;img&apos;);</span><br><span class="line">var txt =  wrap.querySelectorAll(&apos;p&apos;);</span><br><span class="line">var btns =  wrap.querySelectorAll(&apos;a&apos;);</span><br><span class="line">var now = 0;</span><br><span class="line">btns[0].onclick = function()&#123;</span><br><span class="line">tab(-1);</span><br><span class="line">&#125;;</span><br><span class="line">btns[1].onclick = function()&#123;</span><br><span class="line">tab(1);</span><br><span class="line">&#125;;</span><br><span class="line">function tab(dis)&#123;</span><br><span class="line">now += dis;</span><br><span class="line">if(now &lt; 0 )&#123;</span><br><span class="line">now = data.length-1;</span><br><span class="line">&#125; else if(now &gt; data.length-1)&#123;</span><br><span class="line">now = 0;</span><br><span class="line">&#125;</span><br><span class="line">img.src = data[now][&quot;img&quot;];</span><br><span class="line">txt[0].innerHTML = (now + 1) + &quot;/&quot; + data.length;</span><br><span class="line">txt[1].innerHTML = data[now][&quot;name&quot;];</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;    </span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;wrap&quot;&gt;</span><br><span class="line">&lt;img src=&quot;img/1.JPG&quot;&gt;    </span><br><span class="line">&lt;p&gt;1/5&lt;/p&gt;</span><br><span class="line">&lt;p&gt;童童&lt;/p&gt;</span><br><span class="line">&lt;a href=&quot;javascript:;&quot; class=&quot;btn&quot;&gt;prev&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;javascript:;&quot; class=&quot;btn&quot;&gt;next&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
<h2 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h2><blockquote>
<p>不定参，函数所有参数的集合</p>
<ul>
<li>获取其中一个参数：用下标。</li>
<li>获取参数的总个数：length。</li>
<li>参数其实就相当于函数的局部变量，只定义形参不传参的话，参数就是undefined<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">function fn(a,b,c,d) &#123;</span><br><span class="line">alert(c);//undefined</span><br><span class="line">&#125;</span><br><span class="line">fn(1,2);</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li>有一个函数，传进来的参数是不固定的，现在要计算出所有的参数和。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">function fn() &#123;</span><br><span class="line">console.log(arguments.length);</span><br><span class="line">var nub = 0 ;</span><br><span class="line">for(var i = 0; i &lt; arguments.length; i++)&#123;</span><br><span class="line">nub += arguments[i];</span><br><span class="line">&#125;</span><br><span class="line">alert(nub);</span><br><span class="line">&#125;</span><br><span class="line">fn(1,1,1);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="返回值return"><a href="#返回值return" class="headerlink" title="返回值return"></a>返回值return</h2><blockquote>
<p>每个函数中都可以存储数据，存储的数据，可以再函数执行完成之后拿到。</p>
<ul>
<li>return 函数返回值（函数执行完成之后，返回的数据）</li>
<li>只能在函数中使用</li>
<li>return 后面跟得值为函数执行后的返回值。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function a()&#123;</span><br><span class="line">return [1,2,3];</span><br><span class="line">&#125;</span><br><span class="line">var b = a();</span><br><span class="line">alert(b); //1,2,3</span><br></pre></td></tr></table></figure>
</li>
</ul>
</blockquote>
<ul>
<li><p>每个函数都有一个返回值，如果我们没有定义，返回值就是undefined</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">function a() &#123;</span><br><span class="line">var nub = 10;</span><br><span class="line">&#125;</span><br><span class="line">var b = a();</span><br><span class="line">alert(b);//undefined;</span><br></pre></td></tr></table></figure>
</li>
<li><p>函数中 return后边的内容不会被执行(在函数执行时，会把return后边的数据返回，然后函数执行到此结束)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">function a() &#123;</span><br><span class="line">var nub = 10;</span><br><span class="line">return nub;</span><br><span class="line"></span><br><span class="line">alert(nub*nub);</span><br><span class="line">&#125;</span><br><span class="line">var b = a();</span><br><span class="line">alert(b);</span><br></pre></td></tr></table></figure>
</li>
</ul>
<p>解题剖析【封装获取元素】<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function $()&#123;//通过id获取元素</span><br><span class="line">return document.getElementById(&quot;btn&quot;);</span><br><span class="line">&#125;</span><br><span class="line">window.onload = function()&#123;</span><br><span class="line">var btn = $();</span><br><span class="line">console.log(btn);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h2 id="封装"><a href="#封装" class="headerlink" title="封装"></a>封装</h2><blockquote>
<p>函数：function 功能方法:把一个个零散的代码和数据，组合成一个完整的方法.</p>
</blockquote>
<h2 id="解题剖析【获取样式】"><a href="#解题剖析【获取样式】" class="headerlink" title="解题剖析【获取样式】"></a>解题剖析【获取样式】</h2><ul>
<li>getComputedStyle(box)[“width”]//标准下获取计算后的样式（标准下的内置函数）</li>
<li>box.currentStyle[“width”]//IE下获取计算后的样式<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">function getStyle(el,attr)&#123;</span><br><span class="line">if(el.currentStyle)&#123;</span><br><span class="line">return el.currentStyle[attr];</span><br><span class="line">&#125;</span><br><span class="line">return getComputedStyle(el)[attr];</span><br><span class="line">&#125;</span><br><span class="line">var box = document.getElementById(&apos;box&apos;);</span><br><span class="line">box.onclick = function()&#123;</span><br><span class="line">var left = parseFloat(getStyle(box,&quot;left&quot;));</span><br><span class="line">box.style.legt = left + 5 + &quot;px&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-十/" data-id="cjw7l979x000loq04zkfo1ugn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-九" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-九/" class="article-date">
  <time datetime="2019-03-21T08:43:54.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-九/">javascript(九)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><ul>
<li>1.赋值运算符</li>
<li>=、+=、-=、*=、/=、%=</li>
<li>2.算数运算符：运算符都只有数字运算的功能，所以在使用的时候，都会把其他类型专程数字。</li>
<li>“+”</li>
<li>1.当加号左右两侧有一位是字符串时，会把另外一侧也转成字符串</li>
<li>2.使用+号时，两边没有字符串时，优先尝试把左右两侧都转成数字，如果不能转换成数字就转换成字符串进行链接。</li>
<li>“-“</li>
<li>“*”</li>
<li>“/“</li>
<li>“%”：取模等于求余数【任何数%n = (0 ~ n-1)】</li>
<li>++</li>
<li>“–”</li>
<li><p>注意：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">var i = 0;</span><br><span class="line">alert(i++); //0</span><br><span class="line">alert(i); //1</span><br><span class="line"></span><br><span class="line">var j = 0;</span><br><span class="line">j++;</span><br><span class="line">alert(j);//1</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.关系运算符</p>
</li>
<li>“&lt;”、”&gt;”、”&lt;=”、”&gt;=”、==、!=、===、”!==”</li>
<li>-&gt;扩展：</li>
<li>== 和 “===”，以及!= 和!==的区别。</li>
<li>“==” 和 !=：会进行隐式类型转换，把左右两侧的数据类型转换成一个的之后，再去比较。</li>
<li>=== 和!==：进行比较的时候，也会比较数据类型，数据类型不一样不会进行比较，则判定两边不相等。</li>
<li>4.逻辑运算符</li>
<li><p>||：当第一个条件返回true，就结束运行，返回true，如果第一个条件返回false，那再来看第二个条件，如果第二个条件返回true，整体也为true，如果两个条件都为false，则返回false。</p>
</li>
<li><p>&amp;&amp;：当第一个条件返回false，就结束运算，直接返回false。如果第一个条件返回true，那再来看第二个条件，如果第二个条件返回false，整体也返回false，如果两个条件都返回true则返回true；</p>
</li>
<li><p>！：否、取反，把当前的值转换成布尔值，然后取反，返回的结果是布尔值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//条件成立，执行某件事</span><br><span class="line">var a = 0;</span><br><span class="line">var b = 2;</span><br><span class="line">function fn()&#123;</span><br><span class="line">alert(1);</span><br><span class="line">&#125;</span><br><span class="line">(a&lt;b) &amp;&amp; fn();</span><br><span class="line"></span><br><span class="line">//条件不成立，执行某件事</span><br><span class="line">(a &gt; b)||fn();</span><br><span class="line">if(a &gt; b) &#123;</span><br><span class="line"></span><br><span class="line">&#125; else &#123;</span><br><span class="line">fn();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.三元运算符</p>
<blockquote>
<p>判断条件？成立执行的语句:不成立执行的语句</p>
</blockquote>
</li>
<li><p>条件成立返回：成立执行的结果</p>
</li>
<li><p>条件不成立返回：不成立执行的结果 </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">var a = 10;</span><br><span class="line">var b = 12;</span><br><span class="line">var c = a &gt; b ? a:b;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">eg:</span><br><span class="line">window.onload = function() &#123;</span><br><span class="line">var btn = document.querySelector(&apos;input&apos;);</span><br><span class="line">var box = document.querySelector(&apos;#box&apos;);</span><br><span class="line">var isHide = true;</span><br><span class="line">btn.onclick = function()&#123;</span><br><span class="line">/*if(isHide) &#123;</span><br><span class="line">box.style.display = &quot;block&quot;;</span><br><span class="line">&#125; else &#123;</span><br><span class="line">box.style.display = &quot;none&quot;;</span><br><span class="line">&#125;*/</span><br><span class="line">//box.style.display = isHide?&quot;block&quot;:&quot;none&quot;;</span><br><span class="line">isHide?box.style.display = &quot;block&quot;:box.style.display = &quot;none&quot;;</span><br><span class="line">isHide = !isHide;</span><br><span class="line">&#125;;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.运算符的优先级</p>
</li>
</ul>
<h2 id="循环"><a href="#循环" class="headerlink" title="循环"></a>循环</h2><ul>
<li><p>continue 跳出==本次循环==（不能写到三元运算符中）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for(var i = 0;i&lt;5;i++)&#123;</span><br><span class="line">if(i==3)&#123;</span><br><span class="line">continue;//跳出本次循环</span><br><span class="line">&#125;</span><br><span class="line">console.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>break  终止==整个循环==</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for(var i = 0;i&lt;5;i++)&#123;</span><br><span class="line">if(i==3)&#123;</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">console.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>break 默认只会终止包着它的循环。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">for(var i = 0;i&lt;5;i++)&#123;</span><br><span class="line">for(var j=0;j&lt;5;j++)&#123;</span><br><span class="line">if(i==3&amp;&amp;j==3)&#123;</span><br><span class="line">break;</span><br><span class="line">&#125;</span><br><span class="line">console.log(i,j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//终止指定的for循环</span><br><span class="line">name:for(var i = 0;i&lt;5;i++)&#123;</span><br><span class="line">for(var j=0;j&lt;5;j++)&#123;</span><br><span class="line">if(i==3&amp;&amp;j==3)&#123;</span><br><span class="line">break name;</span><br><span class="line">&#125;</span><br><span class="line">console.log(i,j);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><blockquote>
<p>是一种复杂类型的数据，在对象中我们可以存储任意类型的数据</p>
<ul>
<li>对象存储数据，是存在对象的属性中</li>
<li>==对象是没有length这个值的==</li>
<li>属性赋值：obj.key = value;</li>
<li>属性操作：</li>
<li>第一种方式：</li>
<li>读操作：obj.属性名;</li>
<li>写操作：ojb.属性名 = 属性值;</li>
<li>obj.key = value;//键值对</li>
<li>第二种方式：</li>
<li>读操作：obj[“属性名”];</li>
<li>写操作：ojb[“属性值”] = 属性值;</li>
<li>obj[“key”] = value;//键值对</li>
</ul>
</blockquote>
<p><strong>【注意：第二种操作方法[]写的是一个字符串，如果说我们的属性名想要存在变量中，只能用[]这种方式。】</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">var w = &quot;width&quot;;</span><br><span class="line">//注意第一种属性操作是写死的一个值，不能使用变量obj.w，这么写就认为在找obj的属性</span><br><span class="line">console.log(obj.w);</span><br><span class="line">//第二种属性操作，接受的是一个字符串，字符串就可以存在变量中，可以直接写obj[变量调用]</span><br><span class="line">console.log(obj[w]);</span><br></pre></td></tr></table></figure></p>
<h2 id="循环-1"><a href="#循环-1" class="headerlink" title="循环"></a>循环</h2><h3 id="in运算符"><a href="#in运算符" class="headerlink" title="in运算符"></a>in运算符</h3><blockquote>
<p>判断这个对象中是否存在该属性，返回的是false或者是true；</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var obj = &#123;&#125;;</span><br><span class="line">obj[&apos;name&apos;] = &quot;Leo&quot;;</span><br><span class="line">obj[&apos;age&apos;] = 40;</span><br><span class="line">obj[&apos;gender&apos;] = &quot;female&quot;;</span><br><span class="line">obj[&apos;width&apos;] = &quot;180px&quot;;</span><br><span class="line">obj[&apos;height&apos;] = &quot;180px&quot;;</span><br><span class="line">obj[&apos;children&apos;] = [&quot;大明&quot;,&quot;小明&quot;,&quot;三明&quot;];</span><br><span class="line"></span><br><span class="line">alert(&quot;name&quot; in obj); // obj 有 name属性就返回 true，否则 返回false</span><br><span class="line"></span><br><span class="line">for (var s in obj) &#123; //通过 in 方法，每次循环的时候把 循环变量s 变成obj对应属性名字 </span><br><span class="line">console.log(s,obj[s]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for-in：可以用来循环-对象和数组，不能用来循环一组元素。"><a href="#for-in：可以用来循环-对象和数组，不能用来循环一组元素。" class="headerlink" title="for in：可以用来循环 对象和数组，不能用来循环一组元素。"></a>for in：可以用来循环 对象和数组，不能用来循环一组元素。</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">var arr = [1,4,23];</span><br><span class="line">/*</span><br><span class="line">for in 可以用来循环 对象和数组,不能用来循环一组元素</span><br><span class="line">for 只能用来循环 数组和类数组(一组元素)</span><br><span class="line">*/</span><br><span class="line">for (var s in arr) &#123; // 找到 arr上的所有属性,s会依次变成 arr的属性名</span><br><span class="line">console.log(s,arr[s]);// s的类型是字符串</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for-只能用来循环-数组和类数组（一组元素）"><a href="#for-只能用来循环-数组和类数组（一组元素）" class="headerlink" title="for 只能用来循环 数组和类数组（一组元素）"></a>for 只能用来循环 数组和类数组（一组元素）</h3><h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><ul>
<li>语法：<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">while(判断语句)&#123;</span><br><span class="line">执行语句;</span><br><span class="line">自增;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">var i = 0;</span><br><span class="line">while(i &lt; 5)&#123;</span><br><span class="line">console.log(i);</span><br><span class="line">i++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="switch"><a href="#switch" class="headerlink" title="switch:"></a>switch:</h3><ul>
<li><p>语法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var a = 15;</span><br><span class="line">switch(a) &#123;</span><br><span class="line">case 10: // 当 a == 10</span><br><span class="line">console.log(&quot;我想给大家放天假&quot;);</span><br><span class="line">break; //a == 10的语句结束之后 添加break</span><br><span class="line">case 15: // 当 a == 15</span><br><span class="line">console.log(&quot;当然我就是想想&quot;);</span><br><span class="line">break;    </span><br><span class="line">case 20: // 当 a == 20</span><br><span class="line">console.log(&quot;其实我真正想的是带大家出去玩&quot;);</span><br><span class="line">break;</span><br><span class="line">default: //以上所有的判断都不成立</span><br><span class="line">console.log(&quot;还是写作业吧&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>穿刺</p>
</li>
<li>1.case成立会把他下边所有的代码都执行了，直到遇到break</li>
<li>2.如果没写鞋break的话，就会形成穿刺现象，把下边所有的代码都执行了。</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-九/" data-id="cjw7l979o000aoq047qbuvkk7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-八" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-八/" class="article-date">
  <time datetime="2019-03-21T08:43:53.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-八/">javascript(八)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="ECMAScript"><a href="#ECMAScript" class="headerlink" title="ECMAScript"></a>ECMAScript</h2><h2 id="数据类型划分"><a href="#数据类型划分" class="headerlink" title="数据类型划分"></a>数据类型划分</h2><h4 id="1、标准指定的类型划分："><a href="#1、标准指定的类型划分：" class="headerlink" title="1、标准指定的类型划分："></a>1、标准指定的类型划分：</h4><ul>
<li>基本类型：</li>
<li>1.number（数字）</li>
<li>2.string（字符串）</li>
<li>3.undefined（未定义）</li>
<li>4.boolean（布尔值）</li>
<li><p>5.null（空对象）找不到对象，对象未定义。与非空对象最大区别在于是否能进行属性操作。</p>
</li>
<li><p>对象类型（复合类型）：object(对象)，包含Array;</p>
<h4 id="2、typeof的方式划分"><a href="#2、typeof的方式划分" class="headerlink" title="2、typeof的方式划分"></a>2、typeof的方式划分</h4><blockquote>
<p>typeof是一种运算符，用来查看类型。</p>
</blockquote>
</li>
<li>1.number:【从负无穷到正无穷的数字及NaN=》not a Number】</li>
<li>Number.POSITIVE_INFINITY 正无穷</li>
<li>Number.NEGATIVE_INFINITY 负无穷</li>
<li>2.string:【字符串，任何包含在引号中的一串字符，都属于字符串】</li>
<li>3.boolean:【true或false两种值，布尔值】</li>
<li><p>4.object:数组、null、元素对象(Element)、object【注意：空数组不等同于空对象，因为空数组可以进行操作，空对象不能进行属性操作】</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">console.log(null == arr);</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.function:函数类型</p>
</li>
<li>6.undefined：未定义。</li>
<li>7.NaN：非数字 not a number [类型是number]</li>
<li>1.NaN不等于任何东西，并且不等于它自己。</li>
<li>2.检测一个内容是否是NaN的时候，可以使用isNaN();</li>
<li>3.数据类型：number;</li>
<li>4.NaN不能用来做比较。</li>
<li>5.isNaN(要检测的内容) return:true/false,isNaN 隐式调用的是Number。</li>
<li>如果转化结果是一个数字就返回false</li>
<li>如果不是一个数字就返回true</li>
<li>isNaN会进行隐式类型转换，转换所调用的方法是Number<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">var a = Number(&quot;10px&quot;);//NaN</span><br><span class="line">var b = Number(&quot;10px&quot;);//NaN</span><br><span class="line">//alert(a == b);// false</span><br><span class="line">alert(isNaN(&quot;$30.2&quot;))//true;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="调试："><a href="#调试：" class="headerlink" title="调试："></a>调试：</h2><ul>
<li>console.log();//只是打印出一个元素或值等。</li>
<li>console.dir();//打印对象。</li>
</ul>
<h2 id="数据类型的转换。"><a href="#数据类型的转换。" class="headerlink" title="数据类型的转换。"></a>数据类型的转换。</h2><ul>
<li>强制类型转换，或者显示类型转换。</li>
<li>字符串转换数字（强制）：</li>
<li><p>1.parseInt:取整 (要转换的数字,传进来的数字的进制值)</p>
<blockquote>
<p>从左向右一位一位去查看，如果遇到一位是非数字的，结束执行，把这位之前的数字返回</p>
</blockquote>
</li>
<li><p>2.parseFloat：转换成小数 (转换为浮点数)</p>
<blockquote>
<p>从左向右一位一位的匹配，直到遇到一个非数字（可以匹配一个小数点）就返回这位前边的数字</p>
</blockquote>
</li>
<li><p>3.Number(要转换的数字)</p>
<blockquote>
<p>从左向右看完所有的字符，如果完全符合数字的规则就转换，如果不符合数字的规则就返回NaN</p>
</blockquote>
</li>
<li><p>【注意：关于数组：】</p>
</li>
<li>1.空数组转为0；（Number转的方式）</li>
<li>2.数组只有一位的时候，会用这位(代表他本身)去转换，并且只转换数字和字符串为数字的，其他的都是NaN</li>
<li>3.数组有多位的时候，只会被转换为NaN</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">var num = false;//true = 1;false = 0;</span><br><span class="line">var nub;//NaN（undefined）;</span><br><span class="line">var nub = null //0;</span><br><span class="line">var nub = document; //NaN;</span><br><span class="line">var nub = [];//0;</span><br><span class="line">var nub = [0];//0;</span><br><span class="line">var nub = [10];//10</span><br><span class="line">var nub = [10,2];//NaN</span><br><span class="line">var nub = [&apos;aaa&apos;] //NaN</span><br><span class="line">var nub = [&apos;10&apos;]//10</span><br><span class="line">var nub = function()&#123;&#125;//NaN</span><br><span class="line">var nub = undefined;//NaN</span><br><span class="line">nub = Number(nub);</span><br></pre></td></tr></table></figure>
<ul>
<li>强制转成字符串</li>
<li><p>toString();【要转换的内容.toString】</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a = 123;</span><br><span class="line">a = a.toString(); //将数字123专为字符串类型</span><br><span class="line">console.log(a,typeof a);123 string;</span><br><span class="line">var b = [&apos;&apos;,&apos;2&apos;];</span><br><span class="line">b = b.toString();</span><br><span class="line">console.log(b,typeof b);//,2 string</span><br></pre></td></tr></table></figure>
</li>
<li><p>String(要转换的内容)</p>
</li>
<li>强制转成布尔值<br>Boolean（要转换的内容）</li>
<li>真：true,非空字符串，非0数字，非空对象。</li>
<li>假：false，空字符串，0，NaN，null，undefined<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">!取反</span><br><span class="line">alert(!&quot;21323&quot;);//false</span><br><span class="line">alert(Boolean(123));//true</span><br></pre></td></tr></table></figure>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var a;</span><br><span class="line">if(a)&#123;</span><br><span class="line">alert(&quot;真&quot;);</span><br><span class="line">&#125; else &#123;</span><br><span class="line">alert(&quot;假&quot;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><p>隐式类型转换</p>
<blockquote>
<p>浏览器自己进行转换，其他类型转换成数字，主要调取Number</p>
</blockquote>
</li>
<li><p>“+、+=”：</p>
</li>
<li>1.当加号左右两侧有一位是字符串时，会把另外一侧也转成字符串</li>
<li>2.使用+号时，两边没有字符串时，优先尝试把左右两侧都转成数字，如果不能转换成数字就转换成字符串进行链接。</li>
<li>“-“、”<em>“、”/“、”%”、”-=”、”</em>=”、”/=”、”%=”：运算符左右两侧转换成数字进行运算：</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">console.log(null + false,0 + function()&#123;&#125;);//0 &quot;0function()&#123;&#125;&quot;</span><br><span class="line">var nub = &quot;20px&quot;;//NaN</span><br><span class="line">var nub2 = &quot;30px&quot;;//NaN</span><br><span class="line">console.log(nub/nub2);//NaN</span><br></pre></td></tr></table></figure>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><ul>
<li>关系运算符： || 、 &amp;&amp; 、！</li>
<li><p>||：当第一个条件返回true，就结束运行，返回true，如果第一个条件返回false，那再来看第二个条件，如果第二个条件返回true，整体也为true，如果两个条件都为false，则返回false。</p>
</li>
<li><p>&amp;&amp;：当第一个条件返回false，就结束运算，直接返回false。如果第一个条件返回true，那再来看第二个条件，如果第二个条件返回false，整体也返回false，如果两个条件都返回true则返回true；</p>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">//条件成立，执行某件事</span><br><span class="line">var a = 0;</span><br><span class="line">var b = 2;</span><br><span class="line">function fn()&#123;</span><br><span class="line">alert(1);</span><br><span class="line">&#125;</span><br><span class="line">(a&lt;b) &amp;&amp; fn();</span><br><span class="line"></span><br><span class="line">//条件不成立，执行某件事</span><br><span class="line">(a &gt; b)||fn();</span><br><span class="line">if(a &gt; b) &#123;</span><br><span class="line"></span><br><span class="line">&#125; else &#123;</span><br><span class="line">fn();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="讲解剖析-【找出数组中最大的值】"><a href="#讲解剖析-【找出数组中最大的值】" class="headerlink" title="讲解剖析 【找出数组中最大的值】"></a>讲解剖析 【找出数组中最大的值】</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var arr = [123,1,324,1233,20,-32,100];//定义一个数组</span><br><span class="line">var max = 0;//给一个最初比较的值</span><br><span class="line">/*</span><br><span class="line">在这里，max可以设置成负无穷,以下是常量。</span><br><span class="line">Number.POSITIVE_INFINITY 正无穷</span><br><span class="line">Number.NEGATIVE_INFINITY 负无穷</span><br><span class="line">*/</span><br><span class="line">//循环数组</span><br><span class="line">for(var i = 0; i &lt; arr.length; i++)&#123;</span><br><span class="line">//如果max小于arr[i],说明arr[i]比max大，所以把它的值赋给max。</span><br><span class="line">if(max &lt; arr[i])&#123;</span><br><span class="line">max = arr[i];</span><br><span class="line">&#125;</span><br><span class="line">//返回最大的【也可直接用这种方式】</span><br><span class="line">//max = Math.max(max,arr[i]);</span><br><span class="line">&#125;</span><br><span class="line">alert(max);</span><br></pre></td></tr></table></figure>
<h2 id="讲解剖析【取模】"><a href="#讲解剖析【取模】" class="headerlink" title="讲解剖析【取模】"></a>讲解剖析【取模】</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">var list = document.querySelector(&apos;.list&apos;);</span><br><span class="line">var colors = [&quot;red&quot;,&quot;yellow&quot;,&quot;blue&quot;,&quot;green&quot;,&quot;pink&quot;];</span><br><span class="line">var inner = &quot;&quot;;</span><br><span class="line">// red blue yellow</span><br><span class="line">for(var i = 0; i &lt; 20; i++)&#123;</span><br><span class="line">/*第一种方式，比较笨*/</span><br><span class="line">/*if(i%3 == 0)&#123;</span><br><span class="line">inner += &apos;&lt;li style=&quot;background:red&quot;&gt;&apos;+i+&apos;&lt;/li&gt;&apos;;</span><br><span class="line">&#125; else if(i%3 == 1) &#123;</span><br><span class="line">inner += &apos;&lt;li style=&quot;background:blue&quot;&gt;&apos;+i+&apos;&lt;/li&gt;&apos;;</span><br><span class="line">&#125; else if(i%3 == 2) &#123;</span><br><span class="line">inner += &apos;&lt;li style=&quot;background:yellow&quot;&gt;&apos;+i+&apos;&lt;/li&gt;&apos;;</span><br><span class="line">&#125;*/</span><br><span class="line">/*第二种方式，不会有颜色多少的限制，可扩展性比较好，代码量少*/</span><br><span class="line">inner += &apos;&lt;li style=&quot;background:&apos;+colors[i%colors.length]+&apos;&quot;&gt;&apos;+i+&apos;&lt;/li&gt;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">list.innerHTML = inner;</span><br></pre></td></tr></table></figure>
<h2 id="讲解剖析【复选框】"><a href="#讲解剖析【复选框】" class="headerlink" title="讲解剖析【复选框】"></a>讲解剖析【复选框】</h2><ul>
<li>复选框样式控制选中用==checked==。</li>
<li>改变事件用==onchange==;<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">var input = document.querySelectorAll(&apos;input&apos;);</span><br><span class="line">for(var i = 0; i &lt; input.length; i++)&#123;</span><br><span class="line">input[i].onchange = function()&#123;</span><br><span class="line">console.log(this.checked);</span><br><span class="line">&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-八/" data-id="cjw7l979v000ioq04o8cgdjz7" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-七" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-七/" class="article-date">
  <time datetime="2019-03-21T08:43:52.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-七/">javascript(七)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="第一章复习"><a href="#第一章复习" class="headerlink" title="第一章复习"></a>第一章复习</h2><h3 id="1-获取元素的方法"><a href="#1-获取元素的方法" class="headerlink" title="1.获取元素的方法"></a>1.获取元素的方法</h3><ul>
<li>获取单个元素：</li>
<li>document.getElementById(‘idName’);//只能从document获取</li>
<li>document.querySelector(‘cssSelector’);//可以从父级获取</li>
<li>获取一组元素//都可以从父级获取</li>
<li>document.querySelectorAll(‘cssSelector’);</li>
<li>document.getElementsByTagName(‘tagName’);</li>
<li>document.getElementsByClassName(‘className’);</li>
<li>query和get方法的区别：</li>
<li>query方法只会在声明的时候，获取一次。</li>
<li>get方法每次使用的时候，都会获取一次。<h3 id="2-事件"><a href="#2-事件" class="headerlink" title="2.事件"></a>2.事件</h3></li>
<li>onload：加载完成之后（只有window、body能加onload事件）</li>
<li>onclick：点击事件</li>
<li>onmonuseover 鼠标移入</li>
<li>onmouseout 鼠标移除</li>
</ul>
<h3 id="3-变量"><a href="#3-变量" class="headerlink" title="3.变量"></a>3.变量</h3><ul>
<li>用来存储数据的一种方式（存值、存址）。</li>
<li>变量声明：var 变量名 = 要存储的具体数据</li>
<li>规则：在那个函数中声明的变量，就职能在这个函数中使用。</li>
</ul>
<h3 id="4-变量命名"><a href="#4-变量命名" class="headerlink" title="4.变量命名"></a>4.变量命名</h3><ol>
<li>可以使用字母、数字、$、_。</li>
<li>变量名不能以数字开头</li>
<li>驼峰命名：从第二个单词开始首字母大写</li>
<li>常量命名：字母全部大些，每个单词中间用“_”隔开</li>
<li>注意关键字和保留字不能用于变量名</li>
</ol>
<h3 id="5-函数"><a href="#5-函数" class="headerlink" title="5.函数"></a>5.函数</h3><ul>
<li>匿名函数：没有名字的函数function(){};</li>
<li>有名字的函数：<br>函数声明：function name(){ //执行语句 }</li>
<li>函数调用：</li>
<li>事件调用：</li>
<li>el.onclick = name;</li>
<li>el.onclick = function(){}</li>
<li>直接调用</li>
<li>name();</li>
</ul>
<h3 id="6-属性操作"><a href="#6-属性操作" class="headerlink" title="6.属性操作"></a>6.属性操作</h3><ul>
<li>属性的读操作</li>
<li>属性读操作(获取属性值):obj.属性名</li>
<li>属性写操作(获取修改属性值):obj.属性名 = 属性值；</li>
<li>注意问题：</li>
<li><p>1.clsss不叫class，叫className</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">document.getElementById(&apos;div&apos;).className;</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.style 操作的是元素的行间样式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div&quot; style=&quot;border:#f00 1px solid;&quot;&gt;&lt;div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">document.getElementById(&apos;div&apos;).style;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>3.获取src的时候获取到的是绝对路径</p>
</li>
<li>4.获取background这类符合样式的时候，火狐（firefox）下可以获取到符合样式中的所有样式而谷歌（chrom）下获取到的只是我们写了的样式</li>
<li><p>eg:只设置了一个background:color。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div&quot; style=&quot;background:blue&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">/*</span><br><span class="line">*火狐得到的是:blue none repeat scroll 0% 0%;</span><br><span class="line">*谷歌得到的是：blue</span><br><span class="line">*/</span><br><span class="line">document.getElementById(&apos;div&apos;).style.background;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>5.设置了十六进制颜色，但是获取的时候，获取到的是rgb颜色</p>
</li>
<li><p>eg:background:#f60,得到的是rgb(255, 102, 0)</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div&quot; style=&quot;background:#f60&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">/*</span><br><span class="line">* 得到的是rgb(255, 102, 0) </span><br><span class="line">*/</span><br><span class="line">document.getElementById(&apos;div&apos;).style.background;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>6.遇到“-”，删除“-”，首字母大写</p>
</li>
<li><p>eg:background-color  =&gt; backgroundColor</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div&quot; style=&quot;background:#f60&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">document.getElementById(&apos;div&apos;).style.backgroundColor;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>7.把等号右侧的值赋给左侧</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">var sum = 100;</span><br></pre></td></tr></table></figure>
</li>
<li><p>8.cssText获取<strong>style</strong>中所有的内容</p>
</li>
<li><p>直接修改cssText会覆盖style中的所有内容，如果不想覆盖之前的所有内容，可以直接写style，或者用+=；</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div&quot; style=&quot;background:#f60;&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var div = document.getElementById(&apos;div&apos;);</span><br><span class="line">//这个时候style=&quot;color:#f00;&quot;</span><br><span class="line">div.cssText = &quot;color:#f00;&quot;</span><br><span class="line">//这个时候style=&quot;background:#f60;color:#f00;&quot;</span><br><span class="line">div.cssText +=&quot;color:#f00;&quot;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>9.cssText = “” 可以直接清空所有的行间样式。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div&quot; style=&quot;background:#f60;&quot;&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var div = document.getElementById(&apos;div&apos;);</span><br><span class="line">//这个时候style被清空</span><br><span class="line">div.cssText = &quot;&quot;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>10.innerHTML 代表元素中的所有内容</p>
</li>
<li>从元素的开标签到闭合标签之间的所有内容，包括元素中的子元素</li>
<li><p>直接设置元素的innerHTML,或者替换掉之前的所有内容，如果不想替换只是添加内容用+=； </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;div&quot;&gt;&lt;span&gt;aa&lt;/span&gt;&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line">var div = document.getElementById(&apos;div&apos;);</span><br><span class="line"></span><br><span class="line">//&lt;div id=&quot;div&quot;&gt;aaa&lt;/div&gt;</span><br><span class="line">div.innerHTML = &quot;aaa&quot;</span><br><span class="line"></span><br><span class="line">//&lt;div id=&quot;div&quot;&gt;&lt;span&gt;aa&lt;/span&gt;aaa&lt;/div&gt;</span><br><span class="line">div.innerHTML += &quot;aaa&quot;</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
</li>
<li><p>11.在写left，width等样式时，一定注意加单位</p>
</li>
<li>可以给元素设置它本身不具备的属性，这个叫自定义属性。</li>
<li>自定义属性：</li>
<li>1.对象本身不具备的属性（不是标准中规定的属性，而是我们自己设置的）</li>
<li>2.索引中：在实践中，需要知道当前元素是一组元素中第几个的时候，需要使用索引值。</li>
</ul>
<h3 id="if语句"><a href="#if语句" class="headerlink" title="if语句"></a>if语句</h3><ul>
<li>扩展：</li>
<li>字符串：引号包起来的一串自负</li>
<li>布尔值：true 和 false</li>
<li>运算符：</li>
<li>1.“+”：</li>
</ul>
<ol>
<li>如果加号左右两边是数字，执行加法运算。</li>
<li>如果一遍是字符串，执行字符串链接。</li>
</ol>
<ul>
<li>2.执行数字运算：“*,/,-,%,–,-=,++,+=”</li>
<li>3.逻辑运算符，返回的结果是布尔值：&gt;,==,&lt;,&gt;=,&lt;=,!=;</li>
<li>4.!非（否） 布尔值中取反</li>
<li>语法:<blockquote>
<p>同一个位置，需要两种或两种以上的执行结果，用判断。</p>
</blockquote>
</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">if(布尔值)&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(布尔值) &#123;//布尔值为true执行if，为false接着向下执行</span><br><span class="line"></span><br><span class="line">&#125;else if(布尔值) &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if(布尔值) &#123;</span><br><span class="line"></span><br><span class="line">&#125; else if(布尔值) &#123;</span><br><span class="line"></span><br><span class="line">&#125; else &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="for循环："><a href="#for循环：" class="headerlink" title="for循环："></a>for循环：</h3><blockquote>
<p>当我们需要同时操作一组元素，或者一组数据的时候需要用到循环。</p>
<ol>
<li>初始值：var i = 0;</li>
<li>判断条件：i &lt; li.length;</li>
<li>执行语句：执行里面面的操作;</li>
<li>自增：i++;</li>
</ol>
</blockquote>
<p>执行顺序：1，2，3，4</p>
<p>for(初始值;判断条件;自增){<br>//执行语句<br>}</p>
<h3 id="数组："><a href="#数组：" class="headerlink" title="数组："></a>数组：</h3><ul>
<li>用来存储一组数据</li>
<li>格式[data1,data2,data3]</li>
<li>每一个数据之间用，隔开</li>
<li>一组数据不能直接操作，要操作一位需要使用下标。</li>
<li>需要使用下标</li>
<li>可以从数组length获取到数组中存储多少位数据。</li>
</ul>
<h3 id="this："><a href="#this：" class="headerlink" title="this："></a>this：</h3><ol>
<li>事件函数中</li>
<li>this指向，触发当前事件的元素</li>
<li>目前的非事件函数，this指向window</li>
</ol>
<h3 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h3><ol>
<li>定点清除</li>
</ol>
<ul>
<li>1.先清楚选中的元素的样式。</li>
<li>2.给当前的元素加上选中样式。</li>
<li>3.定义个变量记录之前选中的元素和当前选中的元素。</li>
</ul>
<ol start="2">
<li>自定义属性</li>
<li>大清洗</li>
</ol>
<ul>
<li>1.先清除所有元素的选中样式</li>
<li>2.给当前的加上选中样式</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-七/" data-id="cjw7l979k0007oq04ja4g2swp" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-六" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-六/" class="article-date">
  <time datetime="2019-03-21T08:43:51.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-六/">javascript(六)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="获取方式区分："><a href="#获取方式区分：" class="headerlink" title="获取方式区分："></a>获取方式区分：</h2><ol>
<li>query相关的方法，再使用时就只获取一次。</li>
<li>get方法在每次我们调用的时候，都会重新获取一次。</li>
</ol>
<h2 id="onclick清空"><a href="#onclick清空" class="headerlink" title="onclick清空"></a>onclick清空</h2><p>box.onclick = null//把box的onclick事件变成空对象。</p>
<h2 id="索引"><a href="#索引" class="headerlink" title="索引"></a>索引</h2><ul>
<li><p>定义一个元素本来不存在的属性，自定义属性。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">for(var i = 0;i&lt;lis.length;i++)&#123;</span><br><span class="line">//自定义属性可以是中文，可以是英文，可以是数字，但是尽量的要使用小写英文字母。</span><br><span class="line">lis[i].序号 = i;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>特定的属性index（索引）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">for(var i = 0;i&lt;lis.length;i++)&#123;</span><br><span class="line">lis[i].index = i;</span><br><span class="line">lis[i].onclick = function()&#123;</span><br><span class="line">alert(this.index);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-六/" data-id="cjw7l979u000hoq04tthn6ve8" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-五" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-五/" class="article-date">
  <time datetime="2019-03-21T08:43:50.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-五/">javascript(五)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><ul>
<li>什么时候使用for循环？</li>
<li>当我们需要同时处理一组数据得时候，就需要使用循环</li>
<li>需要什么？</li>
</ul>
<ol>
<li>起始值</li>
<li>判断条件</li>
<li>执行语句</li>
<li>自增</li>
</ol>
<ul>
<li><p>写法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">for(var i = 0;i&lt;10;i++)&#123;</span><br><span class="line">console.log(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">var i = 0;//i是一个数字变量,循环变量</span><br><span class="line">for(i;i&lt;5;i++)&#123;</span><br><span class="line">console.log(i);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>当变量的判断条件永远成立得时候，这个循环就会变成一个死循环。</p>
</li>
<li>循环变量再for循环结束之后一样调用，不过调用得值是for循环不符合条件之后得值。</li>
<li>当判断条件不成立时，循环就结束了。</li>
</ul>
<h2 id="this"><a href="#this" class="headerlink" title="this"></a>this</h2><ul>
<li>在事件函数中this代表触发当前事件的元素。</li>
<li>在所有非事件函数中this指向window。</li>
<li>谁调用这个函数，this就指向谁。</li>
<li>函数执行的时候都属于window调用</li>
</ul>
<h2 id="思路解析"><a href="#思路解析" class="headerlink" title="思路解析"></a>思路解析</h2><ol>
<li>点击当前div，删除其他div的颜色，给当前点击元素换背景。</li>
</ol>
<ul>
<li><p>1.全部清空法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">当我们在事件中需要知道当前事件的这个元素是一组中的第几个的时候，添加索引值。</span><br></pre></td></tr></table></figure>
</li>
<li><p>2.索引</p>
</li>
</ul>
<ol start="2">
<li>V字形生成思路<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.获取外面的盒子</span><br><span class="line">2.点击事件</span><br><span class="line">3.生成五个div</span><br><span class="line">4.写变量l,t,w,h,</span><br><span class="line">5.判断他是先自增还是先自减</span><br><span class="line">6.设置dis值是正负</span><br><span class="line">7.判断拐点。</span><br><span class="line">9.inner+= 赋值</span><br><span class="line">10.innerHTML 赋值。</span><br><span class="line">11.设置top和left值。</span><br></pre></td></tr></table></figure>
</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-五/" data-id="cjw7l979s000eoq04yxbrwmg5" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-四" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-四/" class="article-date">
  <time datetime="2019-03-21T08:43:49.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-四/">javascript(四)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><ul>
<li>“+”：可以用作连接符，因此当进行加减运算的时候要确保是两个数字类型。</li>
<li>转换方法：可以用*，-，／任何一种运算符进行自动转换。</li>
<li>“-”</li>
<li>“*”</li>
<li>“÷”</li>
</ul>
<h2 id="在js中动态添加元素样式的两种方式"><a href="#在js中动态添加元素样式的两种方式" class="headerlink" title="在js中动态添加元素样式的两种方式"></a>在js中动态添加元素样式的两种方式</h2><ol>
<li>行间样式。</li>
<li>给style标签添加innerHTML(但是有优先级的关系)</li>
</ol>
<h2 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h2><p>解析：十行十列</p>
<ol>
<li>先循环十行</li>
<li>再循环十列</li>
<li>i循环执行一次，j循环执行十次。<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">for(var i = 0; i &lt; 10; i++)&#123;</span><br><span class="line">console.log(&apos;这是第&apos;+i+&apos;行&apos;);</span><br><span class="line">// i循序执行一次 j循环会执行10次</span><br><span class="line">for(var j = 0; j &lt; 10; j++) &#123;</span><br><span class="line">console.log(&apos;这是第&apos;+j+&apos;列&apos;);</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ol>
<p>计算top值：当前是第n行，n*行高</p>
<p>计算left值：当前是滴n行，n*列高</p>
<p>计算当前是第几个：行数*每行的个数得出这行之前有多少？</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-四/" data-id="cjw7l979z000poq0447ht02ds" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-javascript-三" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2019/03/21/javascript-三/" class="article-date">
  <time datetime="2019-03-21T08:43:48.000Z" itemprop="datePublished">2019-03-21</time>
</a>
    
  <div class="article-category">
    <a class="article-category-link" href="/categories/JavaScript/">JavaScript</a>
  </div>

  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2019/03/21/javascript-三/">javascript(三)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><ul>
<li>数组[] Array是一种数据格式。</li>
<li>数组中，每个数据之间用“,”隔开。</li>
<li>获取数组中的其中一位，需要用下标。</li>
<li>数组的长度 length。</li>
<li>数组中可以存放任意类型的数据,但是一般为了代码的可读性极维护性，我每一个数组中，只存放一种类型的数据。</li>
<li>当判断不大于这个数组的时候可以两种方式。</li>
<li>i&gt;=arr.length-1;</li>
<li>i&gt;arr.length<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var = [123,&quot;abc&quot;,true,document,function()&#123;&#125;,,&quot;&quot;,[]];</span><br><span class="line">console.log(arr[5]); //undefined;</span><br><span class="line">console.log(arr.length);//8</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="练习和作业"><a href="#练习和作业" class="headerlink" title="练习和作业"></a>练习和作业</h2><p><strong>详细分析：</strong></p>
<ol>
<li>布局</li>
<li>获取元素，定义变量，定义数组</li>
<li>循环切换和顺序切换的按钮</li>
</ol>
<ul>
<li>1.点击切换下面的文字说明。</li>
<li>2.点击加className,去掉另一个的className</li>
</ul>
<ol start="3">
<li>循环切换</li>
</ol>
<ul>
<li>1.点击左边箭头控制数字一直减，到0的时候回到5.</li>
<li>2.点击右边尖头控制数字一直加，到最大的时候回到0.</li>
<li>3.上面的1/4修改值</li>
<li>4.切换文字描述<br>4.顺序切换</li>
<li>1.点击左边箭头控制数字一直减，到0的时候弹出提示，并且下面的不能点击.</li>
<li>2.点击右边尖头控制数字一直加，到最大的时候弹出提示，并且下面的不能点击.</li>
<li>3.上面的1/4修改值</li>
<li>4.切换文字描述<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;title&gt;Title&lt;/title&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line">body&#123;</span><br><span class="line">font-family: Arial;</span><br><span class="line">&#125;</span><br><span class="line">p&#123;</span><br><span class="line">margin: 20px 0;</span><br><span class="line">padding:0;</span><br><span class="line">&#125;</span><br><span class="line">input&#123;</span><br><span class="line">outline: none;</span><br><span class="line">&#125;</span><br><span class="line">.wrap&#123;</span><br><span class="line">position: relative;</span><br><span class="line">width:550px;</span><br><span class="line">margin:50px auto 0;</span><br><span class="line">&#125;</span><br><span class="line">.tab&#123;</span><br><span class="line">width:550px;</span><br><span class="line">margin:0 auto;</span><br><span class="line">text-align: center;</span><br><span class="line">background-color: #000;</span><br><span class="line">padding:20px 0;</span><br><span class="line">&#125;</span><br><span class="line">.tab div&#123;</span><br><span class="line">width:164px;</span><br><span class="line">margin:0 auto;</span><br><span class="line">&#125;</span><br><span class="line">.tab div::after&#123;</span><br><span class="line">content:&quot;.&quot;;</span><br><span class="line">display:block;</span><br><span class="line">height:0;</span><br><span class="line">clear:both;</span><br><span class="line">&#125;</span><br><span class="line">.tab input&#123;</span><br><span class="line">display: inline-block;</span><br><span class="line">border-radius: 3px;</span><br><span class="line">width: 80px;</span><br><span class="line">line-height:20px;</span><br><span class="line">margin-left:-1px;</span><br><span class="line">border:#fff 1px solid;</span><br><span class="line">background: #000;</span><br><span class="line">color:#fff;</span><br><span class="line">float: left;</span><br><span class="line">cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.tab input.cur&#123;</span><br><span class="line">background: #fff;</span><br><span class="line">color:#000;</span><br><span class="line">&#125;</span><br><span class="line">.tab p&#123;</span><br><span class="line">color:#ccc;</span><br><span class="line">font-size: 13px;</span><br><span class="line">&#125;</span><br><span class="line">.box&#123;</span><br><span class="line">margin: 0 auto;</span><br><span class="line">width: 550px;</span><br><span class="line">height: 310px;</span><br><span class="line">position: relative;</span><br><span class="line">&#125;</span><br><span class="line">.box input&#123;</span><br><span class="line">position: absolute;</span><br><span class="line">top: 50%;</span><br><span class="line">margin-top:-25px;</span><br><span class="line">width: 40px;</span><br><span class="line">height: 50px;</span><br><span class="line">border: 0;</span><br><span class="line">background: none;</span><br><span class="line">color:#fff;</span><br><span class="line">font-size: 26px;</span><br><span class="line">&#125;</span><br><span class="line">.box input:hover&#123;</span><br><span class="line">background-color: rgba(0,0,0,.4);</span><br><span class="line">cursor: pointer;</span><br><span class="line">&#125;</span><br><span class="line">.box input:nth-of-type(1)&#123;</span><br><span class="line">left: 0;</span><br><span class="line">&#125;</span><br><span class="line">.box input:nth-of-type(2)&#123;</span><br><span class="line">right:0;</span><br><span class="line">&#125;</span><br><span class="line">.box nav&#123;</span><br><span class="line">position: absolute;</span><br><span class="line">left:0;</span><br><span class="line">bottom:0;</span><br><span class="line">width:100%;</span><br><span class="line">line-height:40px;</span><br><span class="line">color: #fff;</span><br><span class="line">text-align: center;</span><br><span class="line">background-color: rgba(0,0,0,.3);</span><br><span class="line">&#125;</span><br><span class="line">.box span&#123;</span><br><span class="line">position: absolute;</span><br><span class="line">width:100%;</span><br><span class="line">line-height:45px;</span><br><span class="line">text-align: center;</span><br><span class="line">top:0;</span><br><span class="line">color: #fff;</span><br><span class="line">&#125;</span><br><span class="line">.mask&#123;</span><br><span class="line">position: absolute;</span><br><span class="line">display: none;</span><br><span class="line">top:0;</span><br><span class="line">left:0;</span><br><span class="line">width:100%;</span><br><span class="line">height:100%;</span><br><span class="line">background-color: rgba(255,255,255,0);</span><br><span class="line">z-index: 99;</span><br><span class="line">&#125;</span><br><span class="line">.fixed&#123;</span><br><span class="line">width: 300px;</span><br><span class="line">height:150px;</span><br><span class="line">position: absolute;</span><br><span class="line">left:50%;</span><br><span class="line">margin-left: -150px;</span><br><span class="line">top:50%;</span><br><span class="line">margin-top: -75px;</span><br><span class="line">background-color:rgba(0,0,0,.8);</span><br><span class="line">color:#fff;</span><br><span class="line">text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.fixed p:nth-of-type(2)&#123;</span><br><span class="line">font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line">.fixed a&#123;</span><br><span class="line">text-decoration: none;</span><br><span class="line">color:#fff;</span><br><span class="line">font-size: 12px;</span><br><span class="line">&#125;</span><br><span class="line">.fixed a:nth-of-type(1)&#123;</span><br><span class="line">border:#fff 1px solid;</span><br><span class="line">padding:5px 15px;</span><br><span class="line">&#125;</span><br><span class="line">.fixed a:nth-of-type(2)&#123;</span><br><span class="line">position: absolute;</span><br><span class="line">right:10px;</span><br><span class="line">top:10px;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;div class=&quot;wrap&quot;&gt;</span><br><span class="line">&lt;div class=&quot;tab&quot;&gt;</span><br><span class="line">&lt;div&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;循环切换&quot; class=&quot;cur&quot;&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;顺序切换&quot;&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;p&gt;图片可以从最后一张转到第一张循环&lt;/p&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;box&quot;&gt;</span><br><span class="line">&lt;span&gt;1/4&lt;/span&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;&lt;&quot;&gt;</span><br><span class="line">&lt;img src=&quot;img/1.jpg&quot; /&gt;</span><br><span class="line">&lt;input type=&quot;button&quot; value=&quot;&gt;&quot;&gt;</span><br><span class="line">&lt;nav&gt;文字描述一&lt;/nav&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;div class=&quot;mask&quot;&gt;</span><br><span class="line">&lt;div class=&quot;fixed&quot;&gt;</span><br><span class="line">&lt;p&gt;Javascript 提醒&lt;/p&gt;</span><br><span class="line">&lt;p&gt;已经到第一张啦～&lt;/p&gt;</span><br><span class="line">&lt;a href=&quot;javascript:&quot;&gt;确定&lt;/a&gt;</span><br><span class="line">&lt;a href=&quot;javascript:&quot;&gt;X&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script&gt;</span><br><span class="line"></span><br><span class="line">//获取控制循环和顺序的元素</span><br><span class="line">var tab = document.querySelector(&apos;.tab&apos;);</span><br><span class="line">var tabP = tab.querySelector(&apos;p&apos;);</span><br><span class="line">var tabs = tab.querySelectorAll(&apos;input&apos;);</span><br><span class="line"></span><br><span class="line">//获取要进行修改处理的元素</span><br><span class="line">var box = document.querySelector(&apos;.box&apos;);</span><br><span class="line">var inputs = box.querySelectorAll(&apos;input&apos;);</span><br><span class="line">var span = box.querySelector(&apos;span&apos;);</span><br><span class="line">var img = box.querySelector(&apos;img&apos;);</span><br><span class="line">var navText = box.querySelector(&apos;nav&apos;);</span><br><span class="line"></span><br><span class="line">//弹出提示框</span><br><span class="line">var mask  = document.querySelector(&apos;.mask&apos;);</span><br><span class="line">var fixed = document.querySelector(&apos;.fixed&apos;);</span><br><span class="line">var fText = fixed.querySelectorAll(&apos;p&apos;)[1];</span><br><span class="line">var fSure = fixed.querySelectorAll(&apos;a&apos;);</span><br><span class="line"></span><br><span class="line">//创建数组</span><br><span class="line">var arrImg = [&apos;img/1.jpg&apos;,&apos;img/2.jpg&apos;,&apos;img/3.jpg&apos;,&apos;img/4.jpg&apos;];</span><br><span class="line">var arrImgText = [&apos;文字描述一&apos;,&apos;文字描述二&apos;,&apos;文字描述三&apos;,&apos;文字描述四&apos;];</span><br><span class="line">var arrText = [&apos;图片可以从最后一张转到第一张循环&apos;,&apos;图片只能到第一张或者最后一张&apos;];</span><br><span class="line"></span><br><span class="line">var srcNum = 0,max = arrImg.length-1,min = 0,isIn = true;</span><br><span class="line"></span><br><span class="line">tabs[0].onclick = function() &#123;</span><br><span class="line">isIn = true;</span><br><span class="line">toFunText();</span><br><span class="line">&#125;</span><br><span class="line">tabs[1].onclick = function() &#123;</span><br><span class="line">isIn = false;</span><br><span class="line">toFunText();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//切换按钮的样式和文字变换</span><br><span class="line">function toFunText()&#123;</span><br><span class="line">if(isIn)&#123;</span><br><span class="line">tabP.innerHTML = arrText[0];</span><br><span class="line">tabs[0].className = &apos;cur&apos;;</span><br><span class="line">tabs[1].className = &apos;&apos;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">tabP.innerHTML = arrText[1];</span><br><span class="line">tabs[1].className = &apos;cur&apos;;</span><br><span class="line">tabs[0].className = &apos;&apos;;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line">//上一张</span><br><span class="line">inputs[0].onclick = function()&#123;</span><br><span class="line">srcNum-- ;</span><br><span class="line">if(srcNum&lt;min)&#123;</span><br><span class="line">if(isIn)&#123;</span><br><span class="line">srcNum = max;//循环</span><br><span class="line">&#125;else&#123;</span><br><span class="line">srcNum = min;</span><br><span class="line">//alert(&apos;这是第一张&apos;);</span><br><span class="line">fText.innerHTML = &apos;已经是第一张了哦～&apos;;</span><br><span class="line">mask.style.display = &apos;block&apos;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">img.src = arrImg[srcNum];</span><br><span class="line">navText.innerHTML = arrImgText[srcNum];</span><br><span class="line">span.innerHTML =(srcNum+1)+&apos;/&apos;+arrImg.length;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//下一张</span><br><span class="line">inputs[1].onclick = function()&#123;</span><br><span class="line">srcNum++ ;</span><br><span class="line">if(srcNum&gt;max)&#123;</span><br><span class="line">if(isIn)&#123;</span><br><span class="line">srcNum = min;//循环</span><br><span class="line">&#125;else&#123;</span><br><span class="line">srcNum = max;</span><br><span class="line">fText.innerHTML = &apos;已经是最后一张了哦～&apos;;</span><br><span class="line">mask.style.display = &apos;block&apos;;</span><br><span class="line">//alert(&apos;这是最后一张&apos;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">img.src = arrImg[srcNum];</span><br><span class="line">navText.innerHTML = arrImgText[srcNum];</span><br><span class="line">span.innerHTML =(srcNum+1)+&apos;/&apos;+arrImg.length;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line">//点击关闭提示弹框</span><br><span class="line">fSure[0].onclick=function()&#123;</span><br><span class="line">closeFun();</span><br><span class="line">&#125;</span><br><span class="line">fSure[1].onclick=function()&#123;</span><br><span class="line">closeFun();</span><br><span class="line">&#125;</span><br><span class="line">function closeFun()&#123;</span><br><span class="line">mask.style.display = &apos;none&apos;;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://caofuqing.com/2019/03/21/javascript-三/" data-id="cjw7l979n0009oq04apg67azn" class="article-share-link">Share</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/JavaScript/">JavaScript</a></li><li class="category-list-item"><a class="category-list-link" href="/categories/iOS/">iOS</a></li></ul>
    </div>
  </div>


  
    

  
    
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Recent Posts</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2019/05/28/iOS-源代码分析-Masonry/">iOS 源代码分析 --- Masonry</a>
          </li>
        
          <li>
            <a href="/2019/03/21/javascript-十一/">javascript(十一)</a>
          </li>
        
          <li>
            <a href="/2019/03/21/javascript-十/">javascript(十)</a>
          </li>
        
          <li>
            <a href="/2019/03/21/javascript-九/">javascript(九)</a>
          </li>
        
          <li>
            <a href="/2019/03/21/javascript-八/">javascript(八)</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 talking<br>
      WeChat: qingguoxinghou   QQ: 905167677 

    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>



  </div>
</body>
</html>